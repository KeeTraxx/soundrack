{"version":3,"sources":["webpack:///static/js/app.2edeb41e7faf1b79d41c.js","webpack:///./src/App.vue","webpack:///./src/components/MidiInput.vue","webpack:///./src/components/SoundPlayer.vue","webpack:///./src/components/Equalizer.vue","webpack:///./src/components/Back.vue","webpack:///src/components/KSynth.vue","webpack:///./src/components/KSynth.vue","webpack:///src/components/VirtualKeyboard.vue","webpack:///./src/components/VirtualKeyboard.vue","webpack:///./src/components/MidiPlayer.vue","webpack:///./src/components/Cables.vue","webpack:///./src/components/Main.vue","webpack:///src/components/SoundPlayer.vue","webpack:///src/App.vue","webpack:///./src/App.vue?0035","webpack:///src/components/MidiInput.vue","webpack:///./src/components/MidiInput.vue?59d0","webpack:///src/components/Back.vue","webpack:///./src/components/SoundPlayer.vue?7945","webpack:///src/components/Equalizer.vue","webpack:///./src/components/Equalizer.vue?8158","webpack:///src/components/Front.vue","webpack:///./src/components/Front.vue?fde8","webpack:///./src/components/Front.vue","webpack:///./src/components/Back.vue?1bdc","webpack:///./src/components/KSynth.vue?92c3","webpack:///./src/components/VirtualKeyboard.vue?f407","webpack:///src/components/MidiPlayer.vue","webpack:///./src/components/MidiPlayer.vue?71e0","webpack:///src/components/Cables.vue","webpack:///./src/components/Cables.vue?9c70","webpack:///src/components/Main.vue","webpack:///./src/components/Main.vue?d406","webpack:///./src/router/index.js","webpack:///./src/store/index.js","webpack:///./src/main.js"],"names":["webpackJsonp","8g+t","module","exports","AyQn","BqJM","Fw6i","Ld3z","M110","NHnr","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","MidiInput_injectStyle","SoundPlayer_injectStyle","Equalizer_injectStyle","Back_injectStyle","midi2freq","d","Math","pow","KSynth_injectStyle","key2offset","ev","transpose","shiftKey","code","VirtualKeyboard_injectStyle","MidiPlayer_injectStyle","Cables_injectStyle","Main_injectStyle","Object","defineProperty","value","vue_esm","vuex_esm","App","name","render","_vm","this","_h","$createElement","_c","_self","attrs","id","on","click","$event","$store","state","backview","_v","staticRenderFns","esExports","selectortype_template_index_0_src_App","normalizeComponent","__vue_styles__","Component","src_App","vue_router_esm","webmidi_min","webmidi_min_default","n","MidiInput","data","inputs","a","mounted","_this","enable","err","console","log","addListener","port","type","$emit","MidiInput_render","staticClass","_l","input","key","_s","ref","has-event-outputs","MidiInput_staticRenderFns","MidiInput_esExports","components_MidiInput","MidiInput_normalizeComponent","MidiInput___vue_styles__","MidiInput_Component","src_components_MidiInput","bluebird","bluebird_default","notes","soundmap","i","selectedEventInput","selectedEventOutput","selectedAudioInput","selectedAudioOutput","SoundPlayer","props","availableInstruments","instruments","instrument","undefined","loading","activenotes","msg","outputNode","audioContext","createGain","active","fetch","then","res","json","loadInstrument","catch","$watch","index","indexOf","item","$refs","instrumentList","children","scrollTop","offsetTop","$on","noteon","noteoff","methods","note","number","source","createBufferSource","gainNode","gain","velocity","buffer","connect","start","$set","octave","linearRampToValueAtTime","currentTime","stop","delete","instrumentName","_this2","map","v","arrayBuffer","buf","decodeAudioData","decoded","SoundPlayer_render","staticStyle","flex-grow","_e","directives","rawName","expression","class","has-event-inputs","has-audio-outputs","SoundPlayer_staticRenderFns","SoundPlayer_esExports","components_SoundPlayer","SoundPlayer_normalizeComponent","SoundPlayer___vue_styles__","SoundPlayer_Component","src_components_SoundPlayer","colors","Equalizer","analyser","dataArray","inputNode","createAnalyser","fftSize","bufferLength","frequencyBinCount","Uint8Array","canvas","getContext","clearRect","output","requestAnimationFrame","draw","canvasCtx","getByteFrequencyData","barWidth","length","barHeight","x","h","c","min","fillStyle","strokeStyle","strokeRect","fillRect","Equalizer_render","width","height","has-audio-inputs","Equalizer_staticRenderFns","Equalizer_esExports","components_Equalizer","Equalizer_normalizeComponent","Equalizer___vue_styles__","Equalizer_Component","src_components_Equalizer","Front","Front_render","_t","Front_staticRenderFns","Front_esExports","components_Front","Front_normalizeComponent","Front_Component","src_components_Front","Back","outgoingAudioConnections","incomingAudioConnections","outgoingEventConnections","incomingEventConnections","connectEventInput","device","connectEvent","connectEventOutput","connectAudioInput","connectAudio","connectAudioOutput","Back_render","mousedown","$parent","mouseup","Back_staticRenderFns","Back_esExports","components_Back","Back_normalizeComponent","Back___vue_styles__","Back_Component","src_components_Back","oscillators","KSynth","components","oscillatorTypes","createOscillator","frequency","KSynth_render","o","KSynth_staticRenderFns","KSynth_esExports","components_KSynth","KSynth_normalizeComponent","KSynth___vue_styles__","KSynth_Component","src_components_KSynth","noteActive","VirtualKeyboard_i","VirtualKeyboard","window","addEventListener","offset","channel","rawVelocity","target","timestamp","selectOutput","selectedOutput","down","buttons","up","VirtualKeyboard_render","mouseover","mouseout","VirtualKeyboard_staticRenderFns","VirtualKeyboard_esExports","components_VirtualKeyboard","VirtualKeyboard_normalizeComponent","VirtualKeyboard___vue_styles__","VirtualKeyboard_Component","src_components_VirtualKeyboard","midi_parser","midi_parser_default","mididata","MidiPlayer","playing","play","iterateEvent","event","track","deltaTime","emitEvent","setTimeout","timeDivision","midiplayer","outs","parse","midi","MidiPlayer_render","MidiPlayer_staticRenderFns","MidiPlayer_esExports","components_MidiPlayer","MidiPlayer_normalizeComponent","MidiPlayer___vue_styles__","MidiPlayer_Component","src_components_MidiPlayer","Cables","Cables_render","cx","cy","r","Cables_staticRenderFns","Cables_esExports","components_Cables","Cables_normalizeComponent","Cables___vue_styles__","Cables_Component","src_components_Cables","Main","outputs","soundplayer","push","vkeyboard","ksynth","preventDefault","back","equalizer","midiinput","Main_render","destination","slice","mixer","Main_staticRenderFns","Main_esExports","components_Main","Main_normalizeComponent","Main___vue_styles__","Main_Component","src_components_Main","use","router","routes","path","component","AudioContext","store_i","store","Store","config","productionTip","el","template","NO0K","WPyr","nIYI","rWrU","weY5"],"mappings":"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","file":"static/js/app.2edeb41e7faf1b79d41c.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"8g+t\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"AyQn\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"BqJM\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"Fw6i\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"Ld3z\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"M110\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./node_modules/vue/dist/vue.esm.js\nvar vue_esm = __webpack_require__(\"7+uW\");\n\n// EXTERNAL MODULE: ./node_modules/vuex/dist/vuex.esm.js\nvar vuex_esm = __webpack_require__(\"NYxO\");\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/App.vue\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var App = ({\n  name: 'app'\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1135db14\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('button',{on:{\"click\":function($event){_vm.$store.state.backview = !_vm.$store.state.backview}}},[_vm._v(\"switch view\")]),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var selectortype_template_index_0_src_App = (esExports);\n// CONCATENATED MODULE: ./src/App.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"BqJM\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  App,\n  selectortype_template_index_0_src_App,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_App = (Component.exports);\n\n// EXTERNAL MODULE: ./node_modules/vue-router/dist/vue-router.esm.js\nvar vue_router_esm = __webpack_require__(\"/ocq\");\n\n// EXTERNAL MODULE: ./node_modules/webmidi/webmidi.min.js\nvar webmidi_min = __webpack_require__(\"wVp8\");\nvar webmidi_min_default = /*#__PURE__*/__webpack_require__.n(webmidi_min);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/MidiInput.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var MidiInput = ({\n  name: 'MidiInput',\n  data: function data() {\n    return {\n      inputs: webmidi_min_default.a.inputs\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    webmidi_min_default.a.enable(function (err) {\n      if (err) return console.log(err);\n      console.log('WebMidi enabled!');\n      webmidi_min_default.a.addListener('connected', function (ev) {\n        try {\n          if (ev.port.type === 'input') {\n            ev.port.addListener('noteon', 'all', function (ev) {\n              _this.$emit(ev.type, ev);\n            });\n\n            ev.port.addListener('noteoff', 'all', function (ev) {\n              _this.$emit(ev.type, ev);\n            });\n          }\n        } catch (err) {\n          // Do nothing, bug on MidiJS\n        }\n      });\n    });\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8a36113a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MidiInput.vue\nvar MidiInput_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"midiinput\"},[_c('front',{staticClass:\"gameboy\"},[_c('h1',[_vm._v(\"Midi devices\")]),_vm._v(\" \"),_c('ul',{staticClass:\"minidisplay\"},_vm._l((_vm.inputs),function(input){return _c('li',{key:input.id},[_vm._v(_vm._s(input.name))])}))]),_vm._v(\" \"),_c('back',{ref:\"back\",attrs:{\"has-event-outputs\":\"true\"}},[_vm._v(\"\\n    Back\\n  \")])],1)}\nvar MidiInput_staticRenderFns = []\nvar MidiInput_esExports = { render: MidiInput_render, staticRenderFns: MidiInput_staticRenderFns }\n/* harmony default export */ var components_MidiInput = (MidiInput_esExports);\n// CONCATENATED MODULE: ./src/components/MidiInput.vue\nfunction MidiInput_injectStyle (ssrContext) {\n  __webpack_require__(\"weY5\")\n}\nvar MidiInput_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar MidiInput___vue_template_functional__ = false\n/* styles */\nvar MidiInput___vue_styles__ = MidiInput_injectStyle\n/* scopeId */\nvar MidiInput___vue_scopeId__ = \"data-v-8a36113a\"\n/* moduleIdentifier (server only) */\nvar MidiInput___vue_module_identifier__ = null\nvar MidiInput_Component = MidiInput_normalizeComponent(\n  MidiInput,\n  components_MidiInput,\n  MidiInput___vue_template_functional__,\n  MidiInput___vue_styles__,\n  MidiInput___vue_scopeId__,\n  MidiInput___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_MidiInput = (MidiInput_Component.exports);\n\n// EXTERNAL MODULE: ./node_modules/bluebird/js/browser/bluebird.js\nvar bluebird = __webpack_require__(\"0Qa9\");\nvar bluebird_default = /*#__PURE__*/__webpack_require__.n(bluebird);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/SoundPlayer.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\nvar BASE_URL = 'https://gleitz.github.io/midi-js-soundfonts/FluidR3_GM/';\nvar notes = ['C', 'Db', 'D', 'Eb', 'E', 'F', 'Gb', 'G', 'Ab', 'A', 'Bb', 'B'];\n\nfunction octave(n) {\n  return ~~((n - 12) / 12);\n}\n\nfunction note(n) {\n  return notes[(n - 12) % 12];\n}\n\nvar soundmap = [];\n\nfor (var i = 21; i <= 109; i++) {\n  soundmap[i] = note(i) + octave(i);\n}\n\n/* harmony default export */ var SoundPlayer = ({\n  name: 'SoundPlayer',\n  props: ['output'],\n  data: function data() {\n    return {\n      availableInstruments: [],\n      instruments: {},\n      instrument: undefined,\n      loading: false,\n      activenotes: {},\n      msg: '',\n      outputNode: this.$store.state.audioContext.createGain(),\n      active: true\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    fetch('https://gleitz.github.io/midi-js-soundfonts/FluidR3_GM/names.json').then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      _this.availableInstruments = json;\n      _this.loadInstrument('bright_acoustic_piano');\n    }).catch(function (err) {\n      console.log('errrerd', err);\n      _this.msg = 'Failed to fetch instruments';\n    });\n\n    this.$watch('instrument', function (i) {\n      if (!i) return;\n      var index = _this.availableInstruments.indexOf(i.name);\n      var item = _this.$refs.instrumentList.children[index];\n\n      console.log(_this.$refs.instrumentList);\n      _this.$refs.instrumentList.scrollTop = item.offsetTop - _this.$refs.instrumentList.offsetTop - 50;\n    });\n\n    this.$on('noteon', this.noteon);\n    this.$on('noteoff', this.noteoff);\n  },\n\n  methods: {\n    noteon: function noteon(ev) {\n      if (!this.active) return;\n\n      if (!this.instrument[ev.note.number]) return;\n      console.log('noteon', ev);\n      var source = this.$store.state.audioContext.createBufferSource();\n      var gainNode = this.$store.state.audioContext.createGain();\n      gainNode.gain.value = ev.velocity;\n      source.buffer = this.instrument[ev.note.number].buffer;\n      source.connect(gainNode);\n      gainNode.connect(this.outputNode);\n      source.start();\n      this.instrument[ev.note.number].source = source;\n      this.instrument[ev.note.number].gainNode = gainNode;\n      this.$set(this.activenotes, ev.note.name + ev.note.octave, ev);\n    },\n    noteoff: function noteoff(ev) {\n      if (!this.instrument[ev.note.number].source) return;\n      console.log('noteoff', ev);\n      this.instrument[ev.note.number].gainNode.gain.linearRampToValueAtTime(0, this.$store.state.audioContext.currentTime + 0.3);\n      this.instrument[ev.note.number].source.stop(this.$store.state.audioContext.currentTime + 0.3);\n      vue_esm[\"a\" /* default */].delete(this.activenotes, ev.note.name + ev.note.octave);\n    },\n    loadInstrument: function loadInstrument(instrumentName) {\n      var _this2 = this;\n\n      this.loading = true;\n      bluebird_default.a.map(soundmap, function (v) {\n        if (v === undefined) return;\n        return fetch(BASE_URL + instrumentName + '-mp3/' + v + '.mp3').then(function (res) {\n          return res.arrayBuffer();\n        }).then(function (buf) {\n          return _this2.$store.state.audioContext.decodeAudioData(buf);\n        }).then(function (decoded) {\n          return {\n            buffer: decoded\n          };\n        }).catch(function (err) {\n          console.log(err);\n          return undefined;\n        });\n      }).then(function (instrument) {\n        instrument.name = instrumentName;\n        _this2.instruments[instrumentName] = instrument;\n        _this2.instrument = instrument;\n        _this2.loading = false;\n        console.log(instrumentName, 'loaded!');\n      });\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4d63cfee\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/SoundPlayer.vue\nvar SoundPlayer_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"soundplayer\"},[_c('front',{staticClass:\"gameboy\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"display\"},[_c('div',{staticClass:\"row fixed\"},[(_vm.loading)?_c('div',{staticStyle:{\"flex-grow\":\"1\"}},[_vm._v(\"Loading... please wait!\")]):_vm._e(),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading),expression:\"!loading\"}],ref:\"instrumentList\",staticClass:\"instrument-list\"},_vm._l((_vm.availableInstruments),function(i){return _c('li',{key:i,class:{active: _vm.instrument && _vm.instrument.name == i},on:{\"click\":function($event){_vm.loadInstrument(i)}}},[_vm._v(\"\\n              \"+_vm._s(i)+\"\\n            \")])})),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.msg))])])])]),_vm._v(\" \"),_c('h1',[_vm._v(\"SoundPlayer\")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){_vm.active = !_vm.active}}},[_vm._v(_vm._s(_vm.active ? 'ON' : 'OFF'))])]),_vm._v(\" \"),_c('back',{ref:\"back\",attrs:{\"has-event-inputs\":\"true\",\"has-audio-outputs\":\"true\"}},[_vm._v(\"\\n    Back\\n  \")])],1)}\nvar SoundPlayer_staticRenderFns = []\nvar SoundPlayer_esExports = { render: SoundPlayer_render, staticRenderFns: SoundPlayer_staticRenderFns }\n/* harmony default export */ var components_SoundPlayer = (SoundPlayer_esExports);\n// CONCATENATED MODULE: ./src/components/SoundPlayer.vue\nfunction SoundPlayer_injectStyle (ssrContext) {\n  __webpack_require__(\"AyQn\")\n}\nvar SoundPlayer_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar SoundPlayer___vue_template_functional__ = false\n/* styles */\nvar SoundPlayer___vue_styles__ = SoundPlayer_injectStyle\n/* scopeId */\nvar SoundPlayer___vue_scopeId__ = \"data-v-4d63cfee\"\n/* moduleIdentifier (server only) */\nvar SoundPlayer___vue_module_identifier__ = null\nvar SoundPlayer_Component = SoundPlayer_normalizeComponent(\n  SoundPlayer,\n  components_SoundPlayer,\n  SoundPlayer___vue_template_functional__,\n  SoundPlayer___vue_styles__,\n  SoundPlayer___vue_scopeId__,\n  SoundPlayer___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_SoundPlayer = (SoundPlayer_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/Equalizer.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar colors = ['#1d2213', '#494f3e', '#626e4c'];\n// colors = ['#f00', '#0f0', '#00f']\n/* harmony default export */ var Equalizer = ({\n  name: 'Equalizer',\n  props: ['input', 'output'],\n  data: function data() {\n    return {\n      analyser: undefined,\n      dataArray: [],\n      inputNode: this.$store.state.audioContext.createGain()\n    };\n  },\n  mounted: function mounted() {\n    this.analyser = this.$store.state.audioContext.createAnalyser();\n    this.analyser.fftSize = 256;\n    var bufferLength = this.analyser.frequencyBinCount;\n    this.dataArray = new Uint8Array(bufferLength);\n\n    var canvasCtx = this.$refs.canvas.getContext('2d');\n\n    canvasCtx.clearRect(0, 0, 760, 140);\n    // deprecated\n    //  this.input.connect(this.analyser)\n\n    // new\n    this.inputNode.connect(this.analyser);\n    this.analyser.connect(this.output);\n    requestAnimationFrame(this.draw);\n  },\n\n  methods: {\n    draw: function draw() {\n      var canvasCtx = this.$refs.canvas.getContext('2d');\n      this.analyser.getByteFrequencyData(this.dataArray);\n      canvasCtx.clearRect(0, 0, 760, 140);\n      var barWidth = 760 / this.dataArray.length * 1.5;\n      var barHeight = void 0;\n      var x = 5;\n\n      for (var i = 0; i < this.dataArray.length; i++) {\n        barHeight = this.dataArray[i] / 2;\n        for (var h = 0; h < barHeight; h += 8) {\n          var c = Math.min(2, h / 45 * 2);\n          canvasCtx.fillStyle = colors[~~c];\n          if (c === 2) {\n            canvasCtx.strokeStyle = colors[1];\n            canvasCtx.strokeRect(x, 130 - h, barWidth, 6);\n          } else {\n            canvasCtx.fillRect(x, 130 - h, barWidth, 6);\n          }\n        }\n\n        x += barWidth + 3;\n      }\n      requestAnimationFrame(this.draw);\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-352b3aa4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Equalizer.vue\nvar Equalizer_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"equalizer\"},[_c('front',{staticClass:\"gameboy\"},[_c('canvas',{ref:\"canvas\",staticClass:\"display\",attrs:{\"width\":\"760\",\"height\":\"140\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"\\n      Equalizer\\n    \")])]),_vm._v(\" \"),_c('back',{attrs:{\"has-audio-inputs\":\"true\"}},[_vm._v(\"\\n    Back\\n  \")])],1)}\nvar Equalizer_staticRenderFns = []\nvar Equalizer_esExports = { render: Equalizer_render, staticRenderFns: Equalizer_staticRenderFns }\n/* harmony default export */ var components_Equalizer = (Equalizer_esExports);\n// CONCATENATED MODULE: ./src/components/Equalizer.vue\nfunction Equalizer_injectStyle (ssrContext) {\n  __webpack_require__(\"M110\")\n}\nvar Equalizer_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar Equalizer___vue_template_functional__ = false\n/* styles */\nvar Equalizer___vue_styles__ = Equalizer_injectStyle\n/* scopeId */\nvar Equalizer___vue_scopeId__ = \"data-v-352b3aa4\"\n/* moduleIdentifier (server only) */\nvar Equalizer___vue_module_identifier__ = null\nvar Equalizer_Component = Equalizer_normalizeComponent(\n  Equalizer,\n  components_Equalizer,\n  Equalizer___vue_template_functional__,\n  Equalizer___vue_styles__,\n  Equalizer___vue_scopeId__,\n  Equalizer___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_Equalizer = (Equalizer_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/Front.vue\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var Front = ({\n  name: 'Front'\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-71a7e0e2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Front.vue\nvar Front_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.$store.state.backview),expression:\"!$store.state.backview\"}],staticClass:\"front\"},[_vm._t(\"default\")],2)}\nvar Front_staticRenderFns = []\nvar Front_esExports = { render: Front_render, staticRenderFns: Front_staticRenderFns }\n/* harmony default export */ var components_Front = (Front_esExports);\n// CONCATENATED MODULE: ./src/components/Front.vue\nvar Front_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar Front___vue_template_functional__ = false\n/* styles */\nvar Front___vue_styles__ = null\n/* scopeId */\nvar Front___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar Front___vue_module_identifier__ = null\nvar Front_Component = Front_normalizeComponent(\n  Front,\n  components_Front,\n  Front___vue_template_functional__,\n  Front___vue_styles__,\n  Front___vue_scopeId__,\n  Front___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_Front = (Front_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/Back.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nvar selectedEventInput;\nvar selectedEventOutput;\nvar selectedAudioInput;\nvar selectedAudioOutput;\n\n/* harmony default export */ var Back = ({\n  name: 'Back',\n  props: ['hasEventInputs', 'hasEventOutputs', 'hasAudioInputs', 'hasAudioOutputs'],\n  data: function data() {\n    return {\n      outgoingAudioConnections: [],\n      incomingAudioConnections: [],\n      outgoingEventConnections: [],\n      incomingEventConnections: []\n    };\n  },\n\n  methods: {\n    connectEventInput: function connectEventInput(ev, device) {\n      console.log('connectInput', ev, device);\n      selectedEventInput = device;\n      if (ev.type === 'mouseup') {\n        this.connectEvent(selectedEventInput, selectedEventOutput);\n      }\n    },\n    connectEventOutput: function connectEventOutput(ev, device) {\n      console.log('connectOutput', ev, device);\n      selectedEventOutput = device;\n\n      if (ev.type === 'mouseup') {\n        this.connectEvent(selectedEventInput, selectedEventOutput);\n      }\n    },\n    connectEvent: function connectEvent(input, output) {\n      if (input && output) {\n        if (input !== output) {\n          console.log('would connect', input, output);\n          output.$on('noteon', function (ev) {\n            input.$emit('noteon', ev);\n          });\n\n          output.$on('noteoff', function (ev) {\n            input.$emit('noteoff', ev);\n          });\n\n          selectedEventInput = undefined;\n          selectedEventOutput = undefined;\n        } else {\n          console.log('not connecting an obvious loop', input, output);\n        }\n      }\n    },\n    connectAudioInput: function connectAudioInput(ev, device) {\n      console.log('connectInput', ev, device);\n      selectedAudioInput = device;\n      if (ev.type === 'mouseup') {\n        this.connectAudio(selectedAudioInput, selectedAudioOutput);\n      }\n    },\n    connectAudioOutput: function connectAudioOutput(ev, device) {\n      console.log('connectOutput', ev, device);\n      selectedAudioOutput = device;\n\n      if (ev.type === 'mouseup') {\n        this.connectAudio(selectedAudioInput, selectedAudioOutput);\n      }\n    },\n    connectAudio: function connectAudio(input, output) {\n      if (input && output) {\n        if (input !== output) {\n          console.log('would connect', input, output);\n          output.outputNode.connect(input.inputNode);\n          selectedAudioInput = undefined;\n          selectedAudioOutput = undefined;\n        } else {\n          console.log('not connecting an obvious loop', input, output);\n        }\n      }\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-620b6fa1\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Back.vue\nvar Back_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$store.state.backview),expression:\"$store.state.backview\"}],staticClass:\"back\"},[_vm._t(\"default\"),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[(_vm.hasEventInputs)?_c('div',{on:{\"mousedown\":function($event){_vm.connectEventInput($event, _vm.$parent)},\"mouseup\":function($event){_vm.connectEventInput($event, _vm.$parent)}}},[_vm._v(\"\\n      EventInputs\\n    \")]):_vm._e(),_vm._v(\" \"),(_vm.hasEventOutputs)?_c('div',{on:{\"mousedown\":function($event){_vm.connectEventOutput($event, _vm.$parent)},\"mouseup\":function($event){_vm.connectEventOutput($event, _vm.$parent)}}},[_vm._v(\"\\n      EventOutputs\\n    \")]):_vm._e(),_vm._v(\" \"),(_vm.hasAudioInputs)?_c('div',{on:{\"mousedown\":function($event){_vm.connectAudioInput($event, _vm.$parent)},\"mouseup\":function($event){_vm.connectAudioInput($event, _vm.$parent)}}},[_vm._v(\"\\n      AudioInputs\\n    \")]):_vm._e(),_vm._v(\" \"),(_vm.hasAudioOutputs)?_c('div',{on:{\"mousedown\":function($event){_vm.connectAudioOutput($event, _vm.$parent)},\"mouseup\":function($event){_vm.connectAudioOutput($event, _vm.$parent)}}},[_vm._v(\"\\n      AudioOutputs\\n    \")]):_vm._e()])],2)}\nvar Back_staticRenderFns = []\nvar Back_esExports = { render: Back_render, staticRenderFns: Back_staticRenderFns }\n/* harmony default export */ var components_Back = (Back_esExports);\n// CONCATENATED MODULE: ./src/components/Back.vue\nfunction Back_injectStyle (ssrContext) {\n  __webpack_require__(\"NO0K\")\n}\nvar Back_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar Back___vue_template_functional__ = false\n/* styles */\nvar Back___vue_styles__ = Back_injectStyle\n/* scopeId */\nvar Back___vue_scopeId__ = \"data-v-620b6fa1\"\n/* moduleIdentifier (server only) */\nvar Back___vue_module_identifier__ = null\nvar Back_Component = Back_normalizeComponent(\n  Back,\n  components_Back,\n  Back___vue_template_functional__,\n  Back___vue_styles__,\n  Back___vue_scopeId__,\n  Back___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_Back = (Back_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/KSynth.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\nfunction midi2freq(d) {\n  // Taken from https://en.wikipedia.org/wiki/MIDI_tuning_standard#Frequency_values\n  return Math.pow(2, (d - 69) / 12) * 440;\n}\n\nvar oscillators = [];\n\n/* harmony default export */ var KSynth = ({\n  name: 'KSynth',\n  components: {\n    Front: src_components_Front,\n    Back: src_components_Back\n  },\n  props: ['output'],\n  data: function data() {\n    return {\n      type: 'sine',\n      oscillatorTypes: ['sine', 'square', 'sawtooth', 'triangle'],\n      outputNode: this.$store.state.audioContext.createGain(),\n      active: false\n    };\n  },\n  mounted: function mounted() {\n    this.$on('noteon', this.noteon);\n    this.$on('noteoff', this.noteoff);\n  },\n\n  methods: {\n    noteon: function noteon(ev) {\n      if (!this.active) return;\n\n      if (oscillators[ev.note.number]) {\n        oscillators[ev.note.number].stop();\n      }\n      var gainNode = this.$store.state.audioContext.createGain();\n      gainNode.gain.value = ev.velocity * 0.5;\n      oscillators[ev.note.number] = this.$store.state.audioContext.createOscillator();\n      oscillators[ev.note.number].type = this.type;\n      oscillators[ev.note.number].frequency.value = midi2freq(ev.note.number);\n      oscillators[ev.note.number].connect(gainNode);\n      gainNode.connect(this.outputNode);\n      oscillators[ev.note.number].start();\n    },\n    noteoff: function noteoff(ev) {\n      if (oscillators[ev.note.number]) {\n        oscillators[ev.note.number].stop();\n      }\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4dca97e4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/KSynth.vue\nvar KSynth_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ksynth\"},[_c('front',{staticClass:\"gameboy\"},[_c('div',{staticClass:\"display\"},[_c('ul',_vm._l((_vm.oscillatorTypes),function(o){return _c('li',{key:o,class:{active: o == _vm.type},on:{\"click\":function($event){_vm.type = o}}},[_vm._v(_vm._s(o))])}))]),_vm._v(\" \"),_c('h1',[_vm._v(\"KSynth\")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){_vm.active = !_vm.active}}},[_vm._v(_vm._s(_vm.active ? 'ON' : 'OFF'))])]),_vm._v(\" \"),_c('back',{ref:\"back\",attrs:{\"has-event-inputs\":\"true\",\"has-audio-outputs\":\"true\"}},[_vm._v(\"\\n    Back\\n  \")])],1)}\nvar KSynth_staticRenderFns = []\nvar KSynth_esExports = { render: KSynth_render, staticRenderFns: KSynth_staticRenderFns }\n/* harmony default export */ var components_KSynth = (KSynth_esExports);\n// CONCATENATED MODULE: ./src/components/KSynth.vue\nfunction KSynth_injectStyle (ssrContext) {\n  __webpack_require__(\"Fw6i\")\n}\nvar KSynth_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar KSynth___vue_template_functional__ = false\n/* styles */\nvar KSynth___vue_styles__ = KSynth_injectStyle\n/* scopeId */\nvar KSynth___vue_scopeId__ = \"data-v-4dca97e4\"\n/* moduleIdentifier (server only) */\nvar KSynth___vue_module_identifier__ = null\nvar KSynth_Component = KSynth_normalizeComponent(\n  KSynth,\n  components_KSynth,\n  KSynth___vue_template_functional__,\n  KSynth___vue_styles__,\n  KSynth___vue_scopeId__,\n  KSynth___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_KSynth = (KSynth_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/VirtualKeyboard.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar noteActive = {};\nfor (var VirtualKeyboard_i = 0; VirtualKeyboard_i < 128; VirtualKeyboard_i++) {\n  noteActive[VirtualKeyboard_i] = false;\n}\n\nfunction key2offset(ev) {\n  var transpose = ev.shiftKey ? 24 : 12;\n  switch (ev.code) {\n    case 'KeyA':\n      return 8 + transpose;\n    case 'KeyZ':\n      return 9 + transpose;\n    case 'KeyS':\n      return 10 + transpose;\n    case 'KeyX':\n      return 11 + transpose;\n    case 'KeyC':\n      return 12 + transpose;\n    case 'KeyF':\n      return 13 + transpose;\n    case 'KeyV':\n      return 14 + transpose;\n    case 'KeyG':\n      return 15 + transpose;\n    case 'KeyB':\n      return 16 + transpose;\n    case 'KeyN':\n      return 17 + transpose;\n    case 'KeyJ':\n      return 18 + transpose;\n    case 'KeyM':\n      return 19 + transpose;\n    case 'KeyK':\n      return 20 + transpose;\n    case 'Comma':\n      return 21 + transpose;\n    case 'KeyL':\n      return 22 + transpose;\n    case 'Period':\n      return 23 + transpose;\n    case 'Slash':\n      return 24 + transpose;\n    case 'Quote':\n      return 25 + transpose;\n    default:\n      return undefined;\n  }\n}\n\n/* harmony default export */ var VirtualKeyboard = ({\n  name: 'VirtualKeyboard',\n  data: function data() {\n    return {\n      octave: 4,\n      noteActive: noteActive\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    window.addEventListener('keydown', function (ev) {\n      var offset = key2offset(ev);\n      if (!offset) return;\n      _this.$emit('noteon', {\n        channel: 1,\n        note: {\n          name: '',\n          number: _this.octave * 12 + offset,\n          octave: _this.octave\n        },\n        rawVelocity: 127,\n        target: undefined,\n        timestamp: _this.$store.state.audioContext.currentTime,\n        velocity: 1\n      });\n    });\n\n    window.addEventListener('keyup', function (ev) {\n      var offset = key2offset(ev);\n      if (!offset) return;\n      _this.$emit('noteoff', {\n        channel: 1,\n        note: {\n          name: '',\n          number: _this.octave * 12 + offset,\n          octave: _this.octave\n        },\n        rawVelocity: 127,\n        target: undefined,\n        timestamp: _this.$store.state.audioContext.currentTime,\n        velocity: 1\n      });\n    });\n\n    this.$on('noteon', function (ev) {\n      _this.noteActive[ev.note.number] = true;\n      // scroll to view if outside\n      if (ev.note.octave + 1 < _this.octave) {\n        _this.octave = ev.note.octave + 1;\n      } else if (ev.note.octave + 2 > _this.octave + 3) {\n        _this.octave = ev.note.octave - 1;\n      }\n    });\n\n    this.$on('noteoff', function (ev) {\n      _this.noteActive[ev.note.number] = false;\n    });\n  },\n\n  methods: {\n    selectOutput: function selectOutput(output) {\n      this.selectedOutput = output;\n    },\n    down: function down(ev, offset) {\n      if (ev.buttons === 1) {\n        this.$emit('noteon', {\n          channel: 1,\n          note: {\n            name: '',\n            number: this.octave * 12 + offset,\n            octave: this.octave\n          },\n          rawVelocity: 127,\n          target: ev.target,\n          timestamp: this.$store.state.audioContext.currentTime,\n          velocity: 1\n        });\n      }\n    },\n    up: function up(ev, offset) {\n      this.$emit('noteoff', {\n        channel: 1,\n        note: {\n          name: '',\n          number: this.octave * 12 + offset,\n          octave: this.octave\n        },\n        rawVelocity: 127,\n        target: ev.target,\n        timestamp: this.$store.state.audioContext.currentTime,\n        velocity: 1\n      });\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0d31ec80\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/VirtualKeyboard.vue\nvar VirtualKeyboard_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"virtualkeyboard\"},[_c('front',{staticClass:\"gameboy\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"row\"},[_c('div',[_vm._v(\"Octave:\")]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('button',{on:{\"click\":function($event){_vm.octave > 0 && _vm.octave--}}},[_vm._v(\"Down\")]),_vm._v(\" \"),_c('div',{staticClass:\"minidisplay\"},[_vm._v(_vm._s(_vm.octave))]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){_vm.octave < 10 && _vm.octave++}}},[_vm._v(\"Up\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"Keyboard: 'C' = Note C\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"keyboard\"},_vm._l(([1,2,3]),function(i){return _c('div',{key:i,staticClass:\"octave\"},[_c('div',{staticClass:\"keys\"},[_c('div',{staticClass:\"C\",class:{active: _vm.noteActive[_vm.octave*12+i*12+0]},on:{\"mousedown\":function($event){_vm.down($event, i*12+0)},\"mouseup\":function($event){_vm.up($event, i*12+0)},\"mouseover\":function($event){_vm.down($event, i*12+0)},\"mouseout\":function($event){_vm.up($event, i*12+0)}}},[_c('div',{staticClass:\"text-bottom\"},[_vm._v(\"C\")])]),_vm._v(\" \"),_c('div',{staticClass:\"Db black\",class:{active: _vm.noteActive[_vm.octave*12+i*12+1]},on:{\"mousedown\":function($event){_vm.down($event, i*12+1)},\"mouseup\":function($event){_vm.up($event, i*12+1)},\"mouseover\":function($event){_vm.down($event, i*12+1)},\"mouseout\":function($event){_vm.up($event, i*12+1)}}},[_c('div',{staticClass:\"text-bottom\"},[_vm._v(\"Db\")])]),_vm._v(\" \"),_c('div',{staticClass:\"D\",class:{active: _vm.noteActive[_vm.octave*12+i*12+2]},on:{\"mousedown\":function($event){_vm.down($event, i*12+2)},\"mouseup\":function($event){_vm.up($event, i*12+2)},\"mouseover\":function($event){_vm.down($event, i*12+2)},\"mouseout\":function($event){_vm.up($event, i*12+2)}}},[_c('div',{staticClass:\"text-bottom\"},[_vm._v(\"D\")])]),_vm._v(\" \"),_c('div',{staticClass:\"Eb black\",class:{active: _vm.noteActive[_vm.octave*12+i*12+3]},on:{\"mousedown\":function($event){_vm.down($event, i*12+3)},\"mouseup\":function($event){_vm.up($event, i*12+3)},\"mouseover\":function($event){_vm.down($event, i*12+3)},\"mouseout\":function($event){_vm.up($event, i*12+3)}}},[_c('div',{staticClass:\"text-bottom\"},[_vm._v(\"Eb\")])]),_vm._v(\" \"),_c('div',{staticClass:\"E\",class:{active: _vm.noteActive[_vm.octave*12+i*12+4]},on:{\"mousedown\":function($event){_vm.down($event, i*12+4)},\"mouseup\":function($event){_vm.up($event, i*12+4)},\"mouseover\":function($event){_vm.down($event, i*12+4)},\"mouseout\":function($event){_vm.up($event, i*12+4)}}},[_c('div',{staticClass:\"text-bottom\"},[_vm._v(\"E\")])]),_vm._v(\" \"),_c('div',{staticClass:\"F\",class:{active: _vm.noteActive[_vm.octave*12+i*12+5]},on:{\"mousedown\":function($event){_vm.down($event, i*12+5)},\"mouseup\":function($event){_vm.up($event, i*12+5)},\"mouseover\":function($event){_vm.down($event, i*12+5)},\"mouseout\":function($event){_vm.up($event, i*12+5)}}},[_c('div',{staticClass:\"text-bottom\"},[_vm._v(\"F\")])]),_vm._v(\" \"),_c('div',{staticClass:\"Gb black\",class:{active: _vm.noteActive[_vm.octave*12+i*12+6]},on:{\"mousedown\":function($event){_vm.down($event, i*12+6)},\"mouseup\":function($event){_vm.up($event, i*12+6)},\"mouseover\":function($event){_vm.down($event, i*12+6)},\"mouseout\":function($event){_vm.up($event, i*12+6)}}},[_c('div',{staticClass:\"text-bottom\"},[_vm._v(\"Gb\")])]),_vm._v(\" \"),_c('div',{staticClass:\"G\",class:{active: _vm.noteActive[_vm.octave*12+i*12+7]},on:{\"mousedown\":function($event){_vm.down($event, i*12+7)},\"mouseup\":function($event){_vm.up($event, i*12+7)},\"mouseover\":function($event){_vm.down($event, i*12+7)},\"mouseout\":function($event){_vm.up($event, i*12+7)}}},[_c('div',{staticClass:\"text-bottom\"},[_vm._v(\"G\")])]),_vm._v(\" \"),_c('div',{staticClass:\"Ab black\",class:{active: _vm.noteActive[_vm.octave*12+i*12+8]},on:{\"mousedown\":function($event){_vm.down($event, i*12+8)},\"mouseup\":function($event){_vm.up($event, i*12+8)},\"mouseover\":function($event){_vm.down($event, i*12+8)},\"mouseout\":function($event){_vm.up($event, i*12+8)}}},[_c('div',{staticClass:\"text-bottom\"},[_vm._v(\"Ab\")])]),_vm._v(\" \"),_c('div',{staticClass:\"A\",class:{active: _vm.noteActive[_vm.octave*12+i*12+9]},on:{\"mousedown\":function($event){_vm.down($event, i*12+9)},\"mouseup\":function($event){_vm.up($event, i*12+9)},\"mouseover\":function($event){_vm.down($event, i*12+9)},\"mouseout\":function($event){_vm.up($event, i*12+9)}}},[_c('div',{staticClass:\"text-bottom\"},[_vm._v(\"A\")])]),_vm._v(\" \"),_c('div',{staticClass:\"Bb black\",class:{active: _vm.noteActive[_vm.octave*12+i*12+10]},on:{\"mousedown\":function($event){_vm.down($event, i*12+10)},\"mouseup\":function($event){_vm.up($event, i*12+10)},\"mouseover\":function($event){_vm.down($event, i*12+10)},\"mouseout\":function($event){_vm.up($event, i*12+10)}}},[_c('div',{staticClass:\"text-bottom\"},[_vm._v(\"Bb\")])]),_vm._v(\" \"),_c('div',{staticClass:\"B\",class:{active: _vm.noteActive[_vm.octave*12+i*12+11]},on:{\"mousedown\":function($event){_vm.down($event, i*12+11)},\"mouseup\":function($event){_vm.up($event, i*12+11)},\"mouseover\":function($event){_vm.down($event, i*12+11)},\"mouseout\":function($event){_vm.up($event, i*12+11)}}},[_c('div',{staticClass:\"text-bottom\"},[_vm._v(\"B\")])])])])}))]),_vm._v(\" \"),_c('back',{attrs:{\"has-event-inputs\":\"true\",\"has-event-outputs\":\"true\"}},[_vm._v(\"\\n    back\\n  \")])],1)}\nvar VirtualKeyboard_staticRenderFns = []\nvar VirtualKeyboard_esExports = { render: VirtualKeyboard_render, staticRenderFns: VirtualKeyboard_staticRenderFns }\n/* harmony default export */ var components_VirtualKeyboard = (VirtualKeyboard_esExports);\n// CONCATENATED MODULE: ./src/components/VirtualKeyboard.vue\nfunction VirtualKeyboard_injectStyle (ssrContext) {\n  __webpack_require__(\"WPyr\")\n}\nvar VirtualKeyboard_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar VirtualKeyboard___vue_template_functional__ = false\n/* styles */\nvar VirtualKeyboard___vue_styles__ = VirtualKeyboard_injectStyle\n/* scopeId */\nvar VirtualKeyboard___vue_scopeId__ = \"data-v-0d31ec80\"\n/* moduleIdentifier (server only) */\nvar VirtualKeyboard___vue_module_identifier__ = null\nvar VirtualKeyboard_Component = VirtualKeyboard_normalizeComponent(\n  VirtualKeyboard,\n  components_VirtualKeyboard,\n  VirtualKeyboard___vue_template_functional__,\n  VirtualKeyboard___vue_styles__,\n  VirtualKeyboard___vue_scopeId__,\n  VirtualKeyboard___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_VirtualKeyboard = (VirtualKeyboard_Component.exports);\n\n// EXTERNAL MODULE: ./node_modules/midi-parser-js/src/midi-parser.js\nvar midi_parser = __webpack_require__(\"addU\");\nvar midi_parser_default = /*#__PURE__*/__webpack_require__.n(midi_parser);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/MidiPlayer.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\nvar mididata = void 0;\n\n/* harmony default export */ var MidiPlayer = ({\n  name: 'MidiPlayer',\n  props: ['vkeyboard'],\n  data: function data() {\n    return {\n      selectedOutput: undefined,\n      playing: false\n    };\n  },\n\n  methods: {\n    selectOutput: function selectOutput(output) {\n      console.log(output);\n      this.selectedOutput = output;\n    },\n    play: function play() {\n      this.playing = true;\n      this.iterateEvent(0);\n    },\n    stop: function stop() {\n      this.playing = false;\n    },\n    iterateEvent: function iterateEvent(index) {\n      var _this = this;\n\n      var event = mididata.track[1].event[index];\n\n      if (this.playing && event) {\n        if (event.deltaTime === 0) {\n          console.log('emit', event);\n          this.emitEvent(index, event);\n        } else {\n          setTimeout(function () {\n            _this.emitEvent(index, event);\n          }, event.deltaTime / mididata.timeDivision * 250);\n        }\n      }\n    },\n    emitEvent: function emitEvent(index, event) {\n      if (!this.playing) return;\n      var octave = void 0;\n      switch (event.type) {\n        case 9:\n          octave = ~~(event.data[0] / 12) - 2;\n          this.$emit('noteon', {\n            channel: event.channel,\n            note: {\n              name: '',\n              number: event.data[0],\n              octave: octave\n            },\n            rawVelocity: event.data[1],\n            target: this.$refs.midiplayer,\n            timestamp: this.$store.state.audioContext.currentTime,\n            velocity: event.data[1] / 127\n          });\n          break;\n        case 8:\n          octave = ~~(event.data[0] / 12) - 2;\n          this.$emit('noteoff', {\n            channel: event.channel,\n            note: {\n              name: '',\n              number: event.data[0],\n              octave: octave\n            },\n            rawVelocity: event.data[1],\n            target: this.$refs.midiplayer,\n            timestamp: this.$store.state.audioContext.currentTime,\n            velocity: event.data[1] / 127\n          });\n          break;\n      }\n      this.iterateEvent(index + 1);\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.$watch('outputs', function (outs) {\n      _this2.selectedOutput = outs[0];\n    });\n    fetch('static/jingle_bells.mid').then(function (res) {\n      return res.arrayBuffer();\n    }).then(function (buf) {\n      return midi_parser_default.a.parse(new Uint8Array(buf));\n    }).then(function (midi) {\n      mididata = midi;\n      console.log('ready midi');\n    });\n\n    this.$on('noteon', function (ev) {\n      if (_this2.selectedOutput) {\n        _this2.selectedOutput.device.$emit('noteon', ev);\n      }\n    });\n\n    this.$on('noteoff', function (ev) {\n      if (_this2.selectedOutput) {\n        _this2.selectedOutput.device.$emit('noteoff', ev);\n      }\n    });\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cb1ab22e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MidiPlayer.vue\nvar MidiPlayer_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"midiplayer\"},[_c('front',{ref:\"midiplayer\",staticClass:\"gameboy\"},[_c('h1',[_vm._v(\"Jingle Bells Player\")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){_vm.play()}}},[_vm._v(\"Play\")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){_vm.stop()}}},[_vm._v(\"Stop\")]),_vm._v(\" \"),_c('h2',[_vm._v(\"(soon MIDI Player)\")])]),_vm._v(\" \"),_c('back',{ref:\"back\",attrs:{\"has-event-outputs\":\"true\"}},[_vm._v(\"\\n    Back\\n  \")])],1)}\nvar MidiPlayer_staticRenderFns = []\nvar MidiPlayer_esExports = { render: MidiPlayer_render, staticRenderFns: MidiPlayer_staticRenderFns }\n/* harmony default export */ var components_MidiPlayer = (MidiPlayer_esExports);\n// CONCATENATED MODULE: ./src/components/MidiPlayer.vue\nfunction MidiPlayer_injectStyle (ssrContext) {\n  __webpack_require__(\"Ld3z\")\n}\nvar MidiPlayer_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar MidiPlayer___vue_template_functional__ = false\n/* styles */\nvar MidiPlayer___vue_styles__ = MidiPlayer_injectStyle\n/* scopeId */\nvar MidiPlayer___vue_scopeId__ = \"data-v-cb1ab22e\"\n/* moduleIdentifier (server only) */\nvar MidiPlayer___vue_module_identifier__ = null\nvar MidiPlayer_Component = MidiPlayer_normalizeComponent(\n  MidiPlayer,\n  components_MidiPlayer,\n  MidiPlayer___vue_template_functional__,\n  MidiPlayer___vue_styles__,\n  MidiPlayer___vue_scopeId__,\n  MidiPlayer___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_MidiPlayer = (MidiPlayer_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/Cables.vue\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var Cables = ({\n  name: 'Cables'\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f9a00c88\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Cables.vue\nvar Cables_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.$store.state.backview)?_c('svg',[_c('circle',{attrs:{\"cx\":\"300\",\"cy\":\"300\",\"r\":\"20\"}})]):_vm._e()}\nvar Cables_staticRenderFns = []\nvar Cables_esExports = { render: Cables_render, staticRenderFns: Cables_staticRenderFns }\n/* harmony default export */ var components_Cables = (Cables_esExports);\n// CONCATENATED MODULE: ./src/components/Cables.vue\nfunction Cables_injectStyle (ssrContext) {\n  __webpack_require__(\"rWrU\")\n}\nvar Cables_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar Cables___vue_template_functional__ = false\n/* styles */\nvar Cables___vue_styles__ = Cables_injectStyle\n/* scopeId */\nvar Cables___vue_scopeId__ = \"data-v-f9a00c88\"\n/* moduleIdentifier (server only) */\nvar Cables___vue_module_identifier__ = null\nvar Cables_Component = Cables_normalizeComponent(\n  Cables,\n  components_Cables,\n  Cables___vue_template_functional__,\n  Cables___vue_styles__,\n  Cables___vue_scopeId__,\n  Cables___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_Cables = (Cables_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/Main.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n\n\n/* harmony default export */ var Main = ({\n  name: 'Main',\n  data: function data() {\n    return {\n      output: undefined,\n      outputs: []\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.output = this.$refs.soundplayer;\n    this.outputs.push({\n      name: 'VirtualKeyboard',\n      device: this.$refs.vkeyboard\n    }, {\n      name: 'SoundPlayer',\n      device: this.$refs.soundplayer\n    }, {\n      name: 'KSynth',\n      device: this.$refs.ksynth\n    });\n\n    window.addEventListener('keydown', function (ev) {\n      if (ev.code === 'Tab') {\n        _this.$store.state.backview = !_this.$store.state.backview;\n        ev.preventDefault();\n      }\n    });\n\n    console.log('Initial cables');\n    this.$refs.soundplayer.$refs.back.connectAudio(this.$refs.equalizer, this.$refs.soundplayer);\n    this.$refs.ksynth.$refs.back.connectAudio(this.$refs.equalizer, this.$refs.ksynth);\n\n    this.$refs.midiinput.$refs.back.connectEvent(this.$refs.ksynth, this.$refs.vkeyboard);\n    this.$refs.midiinput.$refs.back.connectEvent(this.$refs.soundplayer, this.$refs.vkeyboard);\n\n    this.$refs.midiplayer.$refs.back.connectEvent(this.$refs.vkeyboard, this.$refs.midiplayer);\n    this.$refs.midiplayer.$refs.back.connectEvent(this.$refs.vkeyboard, this.$refs.midiinput);\n  },\n\n  components: {\n    MidiInput: src_components_MidiInput,\n    SoundPlayer: src_components_SoundPlayer,\n    Equalizer: src_components_Equalizer,\n    KSynth: src_components_KSynth,\n    VirtualKeyboard: src_components_VirtualKeyboard,\n    MidiPlayer: src_components_MidiPlayer,\n    Cables: src_components_Cables\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-037d967c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Main.vue\nvar Main_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"rack row\"},[_c('div',{staticClass:\"overlay\"},[_c('cables')],1),_vm._v(\" \"),_c('equalizer',{ref:\"equalizer\",attrs:{\"output\":_vm.$store.state.audioContext.destination}}),_vm._v(\" \"),_c('virtual-keyboard',{ref:\"vkeyboard\",staticClass:\"rack-item\",staticStyle:{\"flex-grow\":\"1\"},attrs:{\"outputs\":_vm.outputs.slice(1)}}),_vm._v(\" \"),_c('midi-input',{ref:\"midiinput\",attrs:{\"outputs\":_vm.outputs}}),_vm._v(\" \"),_c('midi-player',{ref:\"midiplayer\",attrs:{\"outputs\":_vm.outputs,\"vkeyboard\":{name: 'vkey', device: _vm.$refs.vkeyboard}}}),_vm._v(\" \"),_c('sound-player',{ref:\"soundplayer\",attrs:{\"output\":_vm.$store.state.mixer[0]}}),_vm._v(\" \"),_c('k-synth',{ref:\"ksynth\",attrs:{\"output\":_vm.$store.state.mixer[0]}})],1)}\nvar Main_staticRenderFns = []\nvar Main_esExports = { render: Main_render, staticRenderFns: Main_staticRenderFns }\n/* harmony default export */ var components_Main = (Main_esExports);\n// CONCATENATED MODULE: ./src/components/Main.vue\nfunction Main_injectStyle (ssrContext) {\n  __webpack_require__(\"nIYI\")\n  __webpack_require__(\"8g+t\")\n}\nvar Main_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar Main___vue_template_functional__ = false\n/* styles */\nvar Main___vue_styles__ = Main_injectStyle\n/* scopeId */\nvar Main___vue_scopeId__ = \"data-v-037d967c\"\n/* moduleIdentifier (server only) */\nvar Main___vue_module_identifier__ = null\nvar Main_Component = Main_normalizeComponent(\n  Main,\n  components_Main,\n  Main___vue_template_functional__,\n  Main___vue_styles__,\n  Main___vue_scopeId__,\n  Main___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_Main = (Main_Component.exports);\n\n// CONCATENATED MODULE: ./src/router/index.js\n\n\n\n\nvue_esm[\"a\" /* default */].use(vue_router_esm[\"a\" /* default */]);\n\n/* harmony default export */ var router = (new vue_router_esm[\"a\" /* default */]({\n  routes: [{\n    path: '/',\n    name: 'Main',\n    component: src_components_Main\n  }]\n}));\n// CONCATENATED MODULE: ./src/store/index.js\n\n\n\nvue_esm[\"a\" /* default */].use(vuex_esm[\"a\" /* default */]);\n\nvar audioContext = new AudioContext();\nvar mixer = [];\n\nfor (var store_i = 0; store_i < 16; store_i++) {\n  mixer.push(audioContext.createGain());\n}\n\nvar state = {\n  audioContext: audioContext,\n  mixer: mixer,\n  backview: false\n};\n\n/* harmony default export */ var store = (new vuex_esm[\"a\" /* default */].Store({\n  state: state\n}));\n// CONCATENATED MODULE: ./src/main.js\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n\n\n\n\n\nvue_esm[\"a\" /* default */].config.productionTip = false;\nvue_esm[\"a\" /* default */].component('front', src_components_Front);\nvue_esm[\"a\" /* default */].component('back', src_components_Back);\n\nvue_esm[\"a\" /* default */].use(vuex_esm[\"a\" /* default */]);\n\n/* eslint-disable no-new */\nnew vue_esm[\"a\" /* default */]({\n  el: '#app',\n  router: router,\n  store: store,\n  template: '<App/>',\n  components: { App: src_App }\n});\n\n/***/ }),\n\n/***/ \"NO0K\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"WPyr\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"nIYI\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"rWrU\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"weY5\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.2edeb41e7faf1b79d41c.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1135db14\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1135db14\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8a36113a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MidiInput.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MidiInput.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8a36113a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MidiInput.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8a36113a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MidiInput.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4d63cfee\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SoundPlayer.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SoundPlayer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4d63cfee\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./SoundPlayer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4d63cfee\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/SoundPlayer.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-352b3aa4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Equalizer.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Equalizer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-352b3aa4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Equalizer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-352b3aa4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Equalizer.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-620b6fa1\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Back.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Back.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-620b6fa1\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Back.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-620b6fa1\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Back.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"ksynth\">\n    <front class=\"gameboy\">\n      <div class=\"display\">\n        <ul>\n          <li :class=\"{active: o == type}\" v-for=\"o in oscillatorTypes\" v-bind:key=\"o\" @click=\"type = o\">{{o}}</li>\n        </ul>\n      </div>\n      <h1>KSynth</h1>\n      <button @click=\"active = !active\">{{active ? 'ON' : 'OFF'}}</button>\n    </front>\n    <back ref=\"back\" has-event-inputs=\"true\" has-audio-outputs=\"true\">\n      Back\n    </back>\n  </div>\n</template>\n\n<script>\nimport Front from './Front'\nimport Back from './Back'\n\nfunction midi2freq (d) {\n  // Taken from https://en.wikipedia.org/wiki/MIDI_tuning_standard#Frequency_values\n  return Math.pow(2, (d - 69) / 12) * 440\n}\n\nlet oscillators = []\n\nexport default {\n  name: 'KSynth',\n  components: {\n    Front,\n    Back\n  },\n  props: ['output'],\n  data () {\n    return {\n      type: 'sine',\n      oscillatorTypes: ['sine', 'square', 'sawtooth', 'triangle'],\n      outputNode: this.$store.state.audioContext.createGain(),\n      active: false\n    }\n  },\n  mounted () {\n    this.$on('noteon', this.noteon)\n    this.$on('noteoff', this.noteoff)\n  },\n  methods: {\n    noteon (ev) {\n      if (!this.active) return\n\n      if (oscillators[ev.note.number]) {\n        oscillators[ev.note.number].stop()\n      }\n      let gainNode = this.$store.state.audioContext.createGain()\n      gainNode.gain.value = ev.velocity * 0.5\n      oscillators[ev.note.number] = this.$store.state.audioContext.createOscillator()\n      oscillators[ev.note.number].type = this.type\n      oscillators[ev.note.number].frequency.value = midi2freq(ev.note.number)\n      oscillators[ev.note.number].connect(gainNode)\n      gainNode.connect(this.outputNode)\n      oscillators[ev.note.number].start()\n    },\n    noteoff (ev) {\n      if (oscillators[ev.note.number]) {\n        oscillators[ev.note.number].stop()\n      }\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.ksynth {\n  width: 25%;\n  height: 200px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/KSynth.vue","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4dca97e4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./KSynth.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./KSynth.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4dca97e4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./KSynth.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4dca97e4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/KSynth.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"virtualkeyboard\">\n    <front class=\"gameboy\">\n      <div class=\"row\">\n        <div class=\"row\">\n          <div>Octave:</div>\n          <div class=\"row\">\n            <button @click=\"octave > 0 && octave--\">Down</button>\n            <div class=\"minidisplay\">{{octave}}</div>\n            <button @click=\"octave < 10 && octave++\">Up</button>\n          </div>\n          <p>Keyboard: 'C' = Note C</p>\n        </div>\n      </div>\n      <div class=\"keyboard\">\n        <div v-for=\"i in [1,2,3]\" :key=\"i\" class=\"octave\">\n          <div class=\"keys\">\n            <div class=\"C\" :class=\"{active: noteActive[octave*12+i*12+0]}\" @mousedown=\"down($event, i*12+0)\" @mouseup=\"up($event, i*12+0)\" @mouseover=\"down($event, i*12+0)\" @mouseout=\"up($event, i*12+0)\">\n              <div class=\"text-bottom\">C</div>\n            </div>\n            <div class=\"Db black\" :class=\"{active: noteActive[octave*12+i*12+1]}\" @mousedown=\"down($event, i*12+1)\" @mouseup=\"up($event, i*12+1)\" @mouseover=\"down($event, i*12+1)\" @mouseout=\"up($event, i*12+1)\">\n              <div class=\"text-bottom\">Db</div>\n            </div>\n            <div class=\"D\" :class=\"{active: noteActive[octave*12+i*12+2]}\" @mousedown=\"down($event, i*12+2)\" @mouseup=\"up($event, i*12+2)\" @mouseover=\"down($event, i*12+2)\" @mouseout=\"up($event, i*12+2)\">\n              <div class=\"text-bottom\">D</div>\n            </div>\n            <div class=\"Eb black\" :class=\"{active: noteActive[octave*12+i*12+3]}\" @mousedown=\"down($event, i*12+3)\" @mouseup=\"up($event, i*12+3)\" @mouseover=\"down($event, i*12+3)\" @mouseout=\"up($event, i*12+3)\">\n              <div class=\"text-bottom\">Eb</div>\n            </div>\n            <div class=\"E\" :class=\"{active: noteActive[octave*12+i*12+4]}\" @mousedown=\"down($event, i*12+4)\" @mouseup=\"up($event, i*12+4)\" @mouseover=\"down($event, i*12+4)\" @mouseout=\"up($event, i*12+4)\">\n              <div class=\"text-bottom\">E</div>\n            </div>\n            <div class=\"F\" :class=\"{active: noteActive[octave*12+i*12+5]}\" @mousedown=\"down($event, i*12+5)\" @mouseup=\"up($event, i*12+5)\" @mouseover=\"down($event, i*12+5)\" @mouseout=\"up($event, i*12+5)\">\n              <div class=\"text-bottom\">F</div>\n            </div>\n            <div class=\"Gb black\" :class=\"{active: noteActive[octave*12+i*12+6]}\" @mousedown=\"down($event, i*12+6)\" @mouseup=\"up($event, i*12+6)\" @mouseover=\"down($event, i*12+6)\" @mouseout=\"up($event, i*12+6)\">\n              <div class=\"text-bottom\">Gb</div>\n            </div>\n            <div class=\"G\" :class=\"{active: noteActive[octave*12+i*12+7]}\" @mousedown=\"down($event, i*12+7)\" @mouseup=\"up($event, i*12+7)\" @mouseover=\"down($event, i*12+7)\" @mouseout=\"up($event, i*12+7)\">\n              <div class=\"text-bottom\">G</div>\n            </div>\n            <div class=\"Ab black\" :class=\"{active: noteActive[octave*12+i*12+8]}\" @mousedown=\"down($event, i*12+8)\" @mouseup=\"up($event, i*12+8)\" @mouseover=\"down($event, i*12+8)\" @mouseout=\"up($event, i*12+8)\">\n              <div class=\"text-bottom\">Ab</div>\n            </div>\n            <div class=\"A\" :class=\"{active: noteActive[octave*12+i*12+9]}\" @mousedown=\"down($event, i*12+9)\" @mouseup=\"up($event, i*12+9)\" @mouseover=\"down($event, i*12+9)\" @mouseout=\"up($event, i*12+9)\">\n              <div class=\"text-bottom\">A</div>\n            </div>\n            <div class=\"Bb black\" :class=\"{active: noteActive[octave*12+i*12+10]}\" @mousedown=\"down($event, i*12+10)\" @mouseup=\"up($event, i*12+10)\" @mouseover=\"down($event, i*12+10)\" @mouseout=\"up($event, i*12+10)\">\n              <div class=\"text-bottom\">Bb</div>\n            </div>\n            <div class=\"B\" :class=\"{active: noteActive[octave*12+i*12+11]}\" @mousedown=\"down($event, i*12+11)\" @mouseup=\"up($event, i*12+11)\" @mouseover=\"down($event, i*12+11)\" @mouseout=\"up($event, i*12+11)\">\n              <div class=\"text-bottom\">B</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </front>\n    <back has-event-inputs=\"true\" has-event-outputs=\"true\">\n      back\n    </back>\n  </div>\n</template>\n\n<script>\nlet noteActive = {}\nfor (let i = 0; i < 128; i++) {\n  noteActive[i] = false\n}\n\nfunction key2offset (ev) {\n  let transpose = ev.shiftKey ? 24 : 12\n  switch (ev.code) {\n    case 'KeyA':\n      return 8 + transpose\n    case 'KeyZ':\n      return 9 + transpose\n    case 'KeyS':\n      return 10 + transpose\n    case 'KeyX':\n      return 11 + transpose\n    case 'KeyC':\n      return 12 + transpose\n    case 'KeyF':\n      return 13 + transpose\n    case 'KeyV':\n      return 14 + transpose\n    case 'KeyG':\n      return 15 + transpose\n    case 'KeyB':\n      return 16 + transpose\n    case 'KeyN':\n      return 17 + transpose\n    case 'KeyJ':\n      return 18 + transpose\n    case 'KeyM':\n      return 19 + transpose\n    case 'KeyK':\n      return 20 + transpose\n    case 'Comma':\n      return 21 + transpose\n    case 'KeyL':\n      return 22 + transpose\n    case 'Period':\n      return 23 + transpose\n    case 'Slash':\n      return 24 + transpose\n    case 'Quote':\n      return 25 + transpose\n    default:\n      return undefined\n  }\n}\n\nexport default {\n  name: 'VirtualKeyboard',\n  data () {\n    return {\n      octave: 4,\n      noteActive: noteActive\n    }\n  },\n  mounted () {\n    window.addEventListener('keydown', (ev) => {\n      let offset = key2offset(ev)\n      if (!offset) return\n      this.$emit('noteon', {\n        channel: 1,\n        note: {\n          name: '',\n          number: this.octave * 12 + offset,\n          octave: this.octave\n        },\n        rawVelocity: 127,\n        target: undefined,\n        timestamp: this.$store.state.audioContext.currentTime,\n        velocity: 1\n      })\n    })\n\n    window.addEventListener('keyup', (ev) => {\n      let offset = key2offset(ev)\n      if (!offset) return\n      this.$emit('noteoff', {\n        channel: 1,\n        note: {\n          name: '',\n          number: this.octave * 12 + offset,\n          octave: this.octave\n        },\n        rawVelocity: 127,\n        target: undefined,\n        timestamp: this.$store.state.audioContext.currentTime,\n        velocity: 1\n      })\n    })\n\n    this.$on('noteon', ev => {\n      this.noteActive[ev.note.number] = true\n      // scroll to view if outside\n      if (ev.note.octave + 1 < this.octave) {\n        this.octave = ev.note.octave + 1\n      } else if (ev.note.octave + 2 > this.octave + 3) {\n        this.octave = ev.note.octave - 1\n      }\n\n    })\n\n    this.$on('noteoff', ev => {\n      this.noteActive[ev.note.number] = false\n    })\n  },\n  methods: {\n    selectOutput (output) {\n      this.selectedOutput = output\n    },\n    down (ev, offset) {\n      if (ev.buttons === 1) {\n        this.$emit('noteon', {\n          channel: 1,\n          note: {\n            name: '',\n            number: this.octave * 12 + offset,\n            octave: this.octave\n          },\n          rawVelocity: 127,\n          target: ev.target,\n          timestamp: this.$store.state.audioContext.currentTime,\n          velocity: 1\n        })\n      }\n    },\n    up (ev, offset) {\n      this.$emit('noteoff', {\n        channel: 1,\n        note: {\n          name: '',\n          number: this.octave * 12 + offset,\n          octave: this.octave\n        },\n        rawVelocity: 127,\n        target: ev.target,\n        timestamp: this.$store.state.audioContext.currentTime,\n        velocity: 1\n      })\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.virtualkeyboard {\n  width: 50%;\n  height: 280px;\n}\n\n.keyboard {\n  width: 80%;\n  display: flex;\n  min-height: 100px;\n  user-select: none;\n}\n\n.octave {\n  flex-grow: 1;\n}\n\n.octave .keys {\n  position: relative;\n  height: 100%;\n}\n\n.octave > .keys > div {\n  display: inline-block;\n  position: absolute;\n  width: 14.29%;\n  height: 100%;\n  background-color: white;\n  border: 1px solid grey;\n  vertical-align: bottom;\n\n  -webkit-transition: background-color 600ms;\n  -moz-transition: background-color 600ms;\n  transition: background-color 600ms;\n}\n\n.octave > .keys > div.black {\n  width: 8%;\n  height: 65%;\n  background-color: black;\n  z-index: 100;\n}\n\n.text-bottom {\n  position: absolute;\n  width: 100%;\n  text-align: center;\n  bottom: 3px;\n  color: darkgrey;\n  pointer-events: none;\n}\n\ndiv.black > .text-bottom {\n  display: none;\n}\n\n.octave > .keys > div.active {\n  background-color: yellow;\n  -webkit-transition: background-color 0s;\n  -moz-transition: background-color 0s;\n  transition: background-color 0s;\n}\n\n.octave .C {\n  left: 0;\n}\n.octave .Db {\n  left: 10.29%;\n}\n\n.octave .D {\n  left: 14.29%;\n}\n\n.octave .Eb {\n  left: 24.57%;\n}\n\n.octave .E {\n  left: 28.57%;\n}\n\n.octave .F {\n  left: 42.86%;\n}\n\n.octave .Gb {\n  left: 53.14%;\n}\n\n.octave .G {\n  left: 57.14%;\n}\n\n.octave .Ab {\n  left: 67.43%;\n}\n\n.octave .A {\n  left: 71.43%;\n}\n\n.octave .Bb {\n  left: 81.71%;\n}\n\n.octave .B {\n  left: 85.71%;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/VirtualKeyboard.vue","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0d31ec80\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./VirtualKeyboard.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./VirtualKeyboard.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0d31ec80\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./VirtualKeyboard.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0d31ec80\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/VirtualKeyboard.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cb1ab22e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MidiPlayer.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MidiPlayer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cb1ab22e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MidiPlayer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-cb1ab22e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MidiPlayer.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f9a00c88\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Cables.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Cables.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f9a00c88\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Cables.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f9a00c88\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Cables.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-037d967c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Main.vue\")\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-037d967c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=1!./Main.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Main.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-037d967c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Main.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-037d967c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Main.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"soundplayer\">\n    <front class=\"gameboy\">\n      <div class=\"row\">\n        <div class=\"display\">\n          <div class=\"row fixed\">\n            <div v-if=\"loading\" style=\"flex-grow: 1;\">Loading... please wait!</div>\n            <ul v-show=\"!loading\" ref=\"instrumentList\" class=\"instrument-list\">\n              <li @click=\"loadInstrument(i)\" :class=\"{active: instrument && instrument.name == i}\" v-for=\"i in availableInstruments\" :key=\"i\">\n                {{i}}\n              </li>\n            </ul>\n            <p>{{msg}}</p>\n          </div>\n        </div>\n      </div>\n      <h1>SoundPlayer</h1>\n      <button @click=\"active = !active\">{{active ? 'ON' : 'OFF'}}</button>\n    </front>\n    <back ref=\"back\" has-event-inputs=\"true\" has-audio-outputs=\"true\">\n      Back\n    </back>\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue'\nimport Promise from 'bluebird'\n\nvar BASE_URL = 'https://gleitz.github.io/midi-js-soundfonts/FluidR3_GM/'\nlet notes = ['C', 'Db', 'D', 'Eb', 'E', 'F', 'Gb', 'G', 'Ab', 'A', 'Bb', 'B']\n\nfunction octave (n) {\n  return ~~((n - 12) / 12)\n}\n\nfunction note (n) {\n  return notes[(n - 12) % 12]\n}\n\nvar soundmap = []\n\nfor (let i = 21; i <= 109; i++) {\n  soundmap[i] = note(i) + octave(i)\n}\n\nexport default {\n  name: 'SoundPlayer',\n  props: ['output'],\n  data () {\n    return {\n      availableInstruments: [],\n      instruments: {},\n      instrument: undefined,\n      loading: false,\n      activenotes: {},\n      msg: '',\n      outputNode: this.$store.state.audioContext.createGain(),\n      active: true\n    }\n  },\n  mounted () {\n    fetch('https://gleitz.github.io/midi-js-soundfonts/FluidR3_GM/names.json')\n      .then(res => res.json())\n      .then(json => {\n        this.availableInstruments = json\n        this.loadInstrument('bright_acoustic_piano')\n      }).catch(err => {\n        console.log('errrerd', err)\n        this.msg = 'Failed to fetch instruments'\n      })\n\n    this.$watch('instrument', i => {\n      if (!i) return\n      let index = this.availableInstruments.indexOf(i.name)\n      let item = this.$refs.instrumentList.children[index]\n\n      console.log(this.$refs.instrumentList)\n      this.$refs.instrumentList.scrollTop = item.offsetTop - this.$refs.instrumentList.offsetTop - 50\n    })\n\n    this.$on('noteon', this.noteon)\n    this.$on('noteoff', this.noteoff)\n  },\n  methods: {\n    noteon (ev) {\n      if (!this.active) return\n      \n      if (!this.instrument[ev.note.number]) return\n      console.log('noteon', ev)\n      let source = this.$store.state.audioContext.createBufferSource()\n      let gainNode = this.$store.state.audioContext.createGain()\n      gainNode.gain.value = ev.velocity\n      source.buffer = this.instrument[ev.note.number].buffer\n      source.connect(gainNode)\n      gainNode.connect(this.outputNode)\n      source.start()\n      this.instrument[ev.note.number].source = source\n      this.instrument[ev.note.number].gainNode = gainNode\n      this.$set(this.activenotes, ev.note.name + ev.note.octave, ev)\n    },\n    noteoff (ev) {\n      if (!this.instrument[ev.note.number].source) return\n      console.log('noteoff', ev)\n      this.instrument[ev.note.number].gainNode.gain.linearRampToValueAtTime(0, this.$store.state.audioContext.currentTime + 0.3)\n      this.instrument[ev.note.number].source.stop(this.$store.state.audioContext.currentTime + 0.3)\n      Vue.delete(this.activenotes, ev.note.name + ev.note.octave)\n    },\n    loadInstrument (instrumentName) {\n      this.loading = true\n      Promise.map(soundmap, v => {\n        if (v === undefined) return\n        return fetch(BASE_URL + instrumentName + '-mp3/' + v + '.mp3')\n          .then(res => res.arrayBuffer())\n          .then(buf => this.$store.state.audioContext.decodeAudioData(buf))\n          .then(decoded => {\n            return {\n              buffer: decoded\n            }\n          }).catch(err => {\n            console.log(err)\n            return undefined\n          })\n      }).then(instrument => {\n        instrument.name = instrumentName\n        this.instruments[instrumentName] = instrument\n        this.instrument = instrument\n        this.loading = false\n        console.log(instrumentName, 'loaded!')\n      })\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.soundplayer {\n  width: 50%;\n  height: 300px;\n}\n\n.instrument-list {\n  height: 160px;\n  overflow: auto;\n  width: 100%;\n}\nli {\n  margin-bottom: 0.2em;\n  cursor: pointer;\n}\n\nli:hover {\n  text-decoration: underline;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/SoundPlayer.vue","<template>\n  <div id=\"app\">\n    <button @click=\"$store.state.backview = !$store.state.backview\">switch view</button>\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app'\n}\n</script>\n\n<style lang=\"scss\">\n@import 'assets/reset.css';\n\n#app {\n  width: 960px;\n  margin: 0 auto;\n}\n\nhtml, body {\n  margin: 0;\n  padding: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('button',{on:{\"click\":function($event){_vm.$store.state.backview = !_vm.$store.state.backview}}},[_vm._v(\"switch view\")]),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1135db14\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"midiinput\">\n    <front class=\"gameboy\">\n      <h1>Midi devices</h1>\n      <ul class=\"minidisplay\">\n        <li v-for=\"input in inputs\" v-bind:key=\"input.id\">{{input.name}}</li>\n      </ul>\n    </front>\n    <back ref=\"back\" has-event-outputs=\"true\">\n      Back\n    </back>\n  </div>\n</template>\n\n<script>\nimport WebMidi from 'webmidi'\n\nexport default {\n  name: 'MidiInput',\n  data () {\n    return {\n      inputs: WebMidi.inputs\n    }\n  },\n  mounted () {\n    WebMidi.enable(err => {\n      if (err) return console.log(err)\n      console.log('WebMidi enabled!')\n      WebMidi.addListener('connected', ev => {\n        try {\n          if (ev.port.type === 'input') {\n            ev.port.addListener('noteon', 'all', ev => {\n              this.$emit(ev.type, ev)\n            })\n\n            ev.port.addListener('noteoff', 'all', ev => {\n              this.$emit(ev.type, ev)\n            })\n          }\n        } catch (err) {\n          // Do nothing, bug on MidiJS\n        }\n      })\n    })\n  }\n}\n</script>\n\n<style scoped>\n.midiinput {\n  width: 25%;\n  height: 280px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MidiInput.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"midiinput\"},[_c('front',{staticClass:\"gameboy\"},[_c('h1',[_vm._v(\"Midi devices\")]),_vm._v(\" \"),_c('ul',{staticClass:\"minidisplay\"},_vm._l((_vm.inputs),function(input){return _c('li',{key:input.id},[_vm._v(_vm._s(input.name))])}))]),_vm._v(\" \"),_c('back',{ref:\"back\",attrs:{\"has-event-outputs\":\"true\"}},[_vm._v(\"\\n    Back\\n  \")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8a36113a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MidiInput.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"back\" v-show=\"$store.state.backview\">\n    <slot></slot>\n    <div class=\"row\">\n      <div v-if=\"hasEventInputs\" @mousedown=\"connectEventInput($event, $parent)\" @mouseup=\"connectEventInput($event, $parent)\">\n        EventInputs\n      </div>\n      <div v-if=\"hasEventOutputs\" @mousedown=\"connectEventOutput($event, $parent)\" @mouseup=\"connectEventOutput($event, $parent)\">\n        EventOutputs\n      </div>\n      <div v-if=\"hasAudioInputs\" @mousedown=\"connectAudioInput($event, $parent)\" @mouseup=\"connectAudioInput($event, $parent)\">\n        AudioInputs\n      </div>\n      <div v-if=\"hasAudioOutputs\" @mousedown=\"connectAudioOutput($event, $parent)\" @mouseup=\"connectAudioOutput($event, $parent)\">\n        AudioOutputs\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nvar selectedEventInput\nvar selectedEventOutput\nvar selectedAudioInput\nvar selectedAudioOutput\n\nexport default {\n  name: 'Back',\n  props: ['hasEventInputs', 'hasEventOutputs', 'hasAudioInputs', 'hasAudioOutputs'],\n  data () {\n    return {\n      outgoingAudioConnections: [],\n      incomingAudioConnections: [],\n      outgoingEventConnections: [],\n      incomingEventConnections: []\n    }\n  },\n  methods: {\n    connectEventInput (ev, device) {\n      console.log('connectInput', ev, device)\n      selectedEventInput = device\n      if (ev.type === 'mouseup') {\n        this.connectEvent(selectedEventInput, selectedEventOutput)\n      }\n    },\n    connectEventOutput (ev, device) {\n      console.log('connectOutput', ev, device)\n      selectedEventOutput = device\n\n      if (ev.type === 'mouseup') {\n        this.connectEvent(selectedEventInput, selectedEventOutput)\n      }\n    },\n    connectEvent (input, output) {\n      if (input && output) {\n        if (input !== output) {\n          console.log('would connect', input, output)\n          output.$on('noteon', ev => {\n            input.$emit('noteon', ev)\n          })\n\n          output.$on('noteoff', ev => {\n            input.$emit('noteoff', ev)\n          })\n\n          selectedEventInput = undefined\n          selectedEventOutput = undefined\n        } else {\n          console.log('not connecting an obvious loop', input, output)\n        }\n      }\n    },\n    connectAudioInput (ev, device) {\n      console.log('connectInput', ev, device)\n      selectedAudioInput = device\n      if (ev.type === 'mouseup') {\n        this.connectAudio(selectedAudioInput, selectedAudioOutput)\n      }\n    },\n    connectAudioOutput (ev, device) {\n      console.log('connectOutput', ev, device)\n      selectedAudioOutput = device\n\n      if (ev.type === 'mouseup') {\n        this.connectAudio(selectedAudioInput, selectedAudioOutput)\n      }\n    },\n    connectAudio (input, output) {\n      if (input && output) {\n        if (input !== output) {\n          console.log('would connect', input, output)\n          output.outputNode.connect(input.inputNode)\n          selectedAudioInput = undefined\n          selectedAudioOutput = undefined\n        } else {\n          console.log('not connecting an obvious loop', input, output)\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.row > * {\n  flex-grow: 1;\n  align-items: stretch;\n}\n.row {\n  flex-grow: 1;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Back.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"soundplayer\"},[_c('front',{staticClass:\"gameboy\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"display\"},[_c('div',{staticClass:\"row fixed\"},[(_vm.loading)?_c('div',{staticStyle:{\"flex-grow\":\"1\"}},[_vm._v(\"Loading... please wait!\")]):_vm._e(),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading),expression:\"!loading\"}],ref:\"instrumentList\",staticClass:\"instrument-list\"},_vm._l((_vm.availableInstruments),function(i){return _c('li',{key:i,class:{active: _vm.instrument && _vm.instrument.name == i},on:{\"click\":function($event){_vm.loadInstrument(i)}}},[_vm._v(\"\\n              \"+_vm._s(i)+\"\\n            \")])})),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.msg))])])])]),_vm._v(\" \"),_c('h1',[_vm._v(\"SoundPlayer\")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){_vm.active = !_vm.active}}},[_vm._v(_vm._s(_vm.active ? 'ON' : 'OFF'))])]),_vm._v(\" \"),_c('back',{ref:\"back\",attrs:{\"has-event-inputs\":\"true\",\"has-audio-outputs\":\"true\"}},[_vm._v(\"\\n    Back\\n  \")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4d63cfee\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/SoundPlayer.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"equalizer\">\n    <front class=\"gameboy\">\n      <canvas class=\"display\" ref=\"canvas\" width=\"760\" height=\"140\"></canvas>\n      <span>\n        Equalizer\n      </span>\n    </front>\n    <back has-audio-inputs=\"true\">\n      Back\n    </back>\n  </div>\n</template>\n\n<script>\nlet colors = ['#1d2213', '#494f3e', '#626e4c']\n// colors = ['#f00', '#0f0', '#00f']\nexport default {\n  name: 'Equalizer',\n  props: ['input', 'output'],\n  data () {\n    return {\n      analyser: undefined,\n      dataArray: [],\n      inputNode: this.$store.state.audioContext.createGain()\n    }\n  },\n  mounted () {\n    this.analyser = this.$store.state.audioContext.createAnalyser()\n    this.analyser.fftSize = 256\n    var bufferLength = this.analyser.frequencyBinCount\n    this.dataArray = new Uint8Array(bufferLength)\n\n    let canvasCtx = this.$refs.canvas.getContext('2d')\n\n    canvasCtx.clearRect(0, 0, 760, 140)\n    // deprecated\n    //  this.input.connect(this.analyser)\n\n    // new\n    this.inputNode.connect(this.analyser)\n    this.analyser.connect(this.output)\n    requestAnimationFrame(this.draw)\n  },\n  methods: {\n    draw () {\n      let canvasCtx = this.$refs.canvas.getContext('2d')\n      this.analyser.getByteFrequencyData(this.dataArray)\n      canvasCtx.clearRect(0, 0, 760, 140)\n      let barWidth = (760 / this.dataArray.length) * 1.5\n      let barHeight\n      let x = 5\n\n      for (var i = 0; i < this.dataArray.length; i++) {\n        barHeight = this.dataArray[i] / 2\n        for (var h = 0; h < barHeight; h += 8) {\n          let c = Math.min(2, h / 45 * 2)\n          canvasCtx.fillStyle = colors[~~c]\n          if (c === 2) {\n            canvasCtx.strokeStyle = colors[1]\n            canvasCtx.strokeRect(x, 130 - h, barWidth, 6)\n          } else {\n            canvasCtx.fillRect(x, 130 - h, barWidth, 6)\n          }\n        }\n\n        x += barWidth + 3\n      }\n      requestAnimationFrame(this.draw)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.equalizer {\n  width: 100%;\n  height: 280px;\n}\nspan {\n  vertical-align: top;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Equalizer.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"equalizer\"},[_c('front',{staticClass:\"gameboy\"},[_c('canvas',{ref:\"canvas\",staticClass:\"display\",attrs:{\"width\":\"760\",\"height\":\"140\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"\\n      Equalizer\\n    \")])]),_vm._v(\" \"),_c('back',{attrs:{\"has-audio-inputs\":\"true\"}},[_vm._v(\"\\n    Back\\n  \")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-352b3aa4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Equalizer.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"front\" v-show=\"!$store.state.backview\">\n    <slot></slot>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Front'\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Front.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.$store.state.backview),expression:\"!$store.state.backview\"}],staticClass:\"front\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-71a7e0e2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Front.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Front.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-71a7e0e2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Front.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Front.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$store.state.backview),expression:\"$store.state.backview\"}],staticClass:\"back\"},[_vm._t(\"default\"),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[(_vm.hasEventInputs)?_c('div',{on:{\"mousedown\":function($event){_vm.connectEventInput($event, _vm.$parent)},\"mouseup\":function($event){_vm.connectEventInput($event, _vm.$parent)}}},[_vm._v(\"\\n      EventInputs\\n    \")]):_vm._e(),_vm._v(\" \"),(_vm.hasEventOutputs)?_c('div',{on:{\"mousedown\":function($event){_vm.connectEventOutput($event, _vm.$parent)},\"mouseup\":function($event){_vm.connectEventOutput($event, _vm.$parent)}}},[_vm._v(\"\\n      EventOutputs\\n    \")]):_vm._e(),_vm._v(\" \"),(_vm.hasAudioInputs)?_c('div',{on:{\"mousedown\":function($event){_vm.connectAudioInput($event, _vm.$parent)},\"mouseup\":function($event){_vm.connectAudioInput($event, _vm.$parent)}}},[_vm._v(\"\\n      AudioInputs\\n    \")]):_vm._e(),_vm._v(\" \"),(_vm.hasAudioOutputs)?_c('div',{on:{\"mousedown\":function($event){_vm.connectAudioOutput($event, _vm.$parent)},\"mouseup\":function($event){_vm.connectAudioOutput($event, _vm.$parent)}}},[_vm._v(\"\\n      AudioOutputs\\n    \")]):_vm._e()])],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-620b6fa1\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Back.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ksynth\"},[_c('front',{staticClass:\"gameboy\"},[_c('div',{staticClass:\"display\"},[_c('ul',_vm._l((_vm.oscillatorTypes),function(o){return _c('li',{key:o,class:{active: o == _vm.type},on:{\"click\":function($event){_vm.type = o}}},[_vm._v(_vm._s(o))])}))]),_vm._v(\" \"),_c('h1',[_vm._v(\"KSynth\")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){_vm.active = !_vm.active}}},[_vm._v(_vm._s(_vm.active ? 'ON' : 'OFF'))])]),_vm._v(\" \"),_c('back',{ref:\"back\",attrs:{\"has-event-inputs\":\"true\",\"has-audio-outputs\":\"true\"}},[_vm._v(\"\\n    Back\\n  \")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4dca97e4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/KSynth.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"virtualkeyboard\"},[_c('front',{staticClass:\"gameboy\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"row\"},[_c('div',[_vm._v(\"Octave:\")]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('button',{on:{\"click\":function($event){_vm.octave > 0 && _vm.octave--}}},[_vm._v(\"Down\")]),_vm._v(\" \"),_c('div',{staticClass:\"minidisplay\"},[_vm._v(_vm._s(_vm.octave))]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){_vm.octave < 10 && _vm.octave++}}},[_vm._v(\"Up\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"Keyboard: 'C' = Note C\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"keyboard\"},_vm._l(([1,2,3]),function(i){return _c('div',{key:i,staticClass:\"octave\"},[_c('div',{staticClass:\"keys\"},[_c('div',{staticClass:\"C\",class:{active: _vm.noteActive[_vm.octave*12+i*12+0]},on:{\"mousedown\":function($event){_vm.down($event, i*12+0)},\"mouseup\":function($event){_vm.up($event, i*12+0)},\"mouseover\":function($event){_vm.down($event, i*12+0)},\"mouseout\":function($event){_vm.up($event, i*12+0)}}},[_c('div',{staticClass:\"text-bottom\"},[_vm._v(\"C\")])]),_vm._v(\" \"),_c('div',{staticClass:\"Db black\",class:{active: _vm.noteActive[_vm.octave*12+i*12+1]},on:{\"mousedown\":function($event){_vm.down($event, i*12+1)},\"mouseup\":function($event){_vm.up($event, i*12+1)},\"mouseover\":function($event){_vm.down($event, i*12+1)},\"mouseout\":function($event){_vm.up($event, i*12+1)}}},[_c('div',{staticClass:\"text-bottom\"},[_vm._v(\"Db\")])]),_vm._v(\" \"),_c('div',{staticClass:\"D\",class:{active: _vm.noteActive[_vm.octave*12+i*12+2]},on:{\"mousedown\":function($event){_vm.down($event, i*12+2)},\"mouseup\":function($event){_vm.up($event, i*12+2)},\"mouseover\":function($event){_vm.down($event, i*12+2)},\"mouseout\":function($event){_vm.up($event, i*12+2)}}},[_c('div',{staticClass:\"text-bottom\"},[_vm._v(\"D\")])]),_vm._v(\" \"),_c('div',{staticClass:\"Eb black\",class:{active: _vm.noteActive[_vm.octave*12+i*12+3]},on:{\"mousedown\":function($event){_vm.down($event, i*12+3)},\"mouseup\":function($event){_vm.up($event, i*12+3)},\"mouseover\":function($event){_vm.down($event, i*12+3)},\"mouseout\":function($event){_vm.up($event, i*12+3)}}},[_c('div',{staticClass:\"text-bottom\"},[_vm._v(\"Eb\")])]),_vm._v(\" \"),_c('div',{staticClass:\"E\",class:{active: _vm.noteActive[_vm.octave*12+i*12+4]},on:{\"mousedown\":function($event){_vm.down($event, i*12+4)},\"mouseup\":function($event){_vm.up($event, i*12+4)},\"mouseover\":function($event){_vm.down($event, i*12+4)},\"mouseout\":function($event){_vm.up($event, i*12+4)}}},[_c('div',{staticClass:\"text-bottom\"},[_vm._v(\"E\")])]),_vm._v(\" \"),_c('div',{staticClass:\"F\",class:{active: _vm.noteActive[_vm.octave*12+i*12+5]},on:{\"mousedown\":function($event){_vm.down($event, i*12+5)},\"mouseup\":function($event){_vm.up($event, i*12+5)},\"mouseover\":function($event){_vm.down($event, i*12+5)},\"mouseout\":function($event){_vm.up($event, i*12+5)}}},[_c('div',{staticClass:\"text-bottom\"},[_vm._v(\"F\")])]),_vm._v(\" \"),_c('div',{staticClass:\"Gb black\",class:{active: _vm.noteActive[_vm.octave*12+i*12+6]},on:{\"mousedown\":function($event){_vm.down($event, i*12+6)},\"mouseup\":function($event){_vm.up($event, i*12+6)},\"mouseover\":function($event){_vm.down($event, i*12+6)},\"mouseout\":function($event){_vm.up($event, i*12+6)}}},[_c('div',{staticClass:\"text-bottom\"},[_vm._v(\"Gb\")])]),_vm._v(\" \"),_c('div',{staticClass:\"G\",class:{active: _vm.noteActive[_vm.octave*12+i*12+7]},on:{\"mousedown\":function($event){_vm.down($event, i*12+7)},\"mouseup\":function($event){_vm.up($event, i*12+7)},\"mouseover\":function($event){_vm.down($event, i*12+7)},\"mouseout\":function($event){_vm.up($event, i*12+7)}}},[_c('div',{staticClass:\"text-bottom\"},[_vm._v(\"G\")])]),_vm._v(\" \"),_c('div',{staticClass:\"Ab black\",class:{active: _vm.noteActive[_vm.octave*12+i*12+8]},on:{\"mousedown\":function($event){_vm.down($event, i*12+8)},\"mouseup\":function($event){_vm.up($event, i*12+8)},\"mouseover\":function($event){_vm.down($event, i*12+8)},\"mouseout\":function($event){_vm.up($event, i*12+8)}}},[_c('div',{staticClass:\"text-bottom\"},[_vm._v(\"Ab\")])]),_vm._v(\" \"),_c('div',{staticClass:\"A\",class:{active: _vm.noteActive[_vm.octave*12+i*12+9]},on:{\"mousedown\":function($event){_vm.down($event, i*12+9)},\"mouseup\":function($event){_vm.up($event, i*12+9)},\"mouseover\":function($event){_vm.down($event, i*12+9)},\"mouseout\":function($event){_vm.up($event, i*12+9)}}},[_c('div',{staticClass:\"text-bottom\"},[_vm._v(\"A\")])]),_vm._v(\" \"),_c('div',{staticClass:\"Bb black\",class:{active: _vm.noteActive[_vm.octave*12+i*12+10]},on:{\"mousedown\":function($event){_vm.down($event, i*12+10)},\"mouseup\":function($event){_vm.up($event, i*12+10)},\"mouseover\":function($event){_vm.down($event, i*12+10)},\"mouseout\":function($event){_vm.up($event, i*12+10)}}},[_c('div',{staticClass:\"text-bottom\"},[_vm._v(\"Bb\")])]),_vm._v(\" \"),_c('div',{staticClass:\"B\",class:{active: _vm.noteActive[_vm.octave*12+i*12+11]},on:{\"mousedown\":function($event){_vm.down($event, i*12+11)},\"mouseup\":function($event){_vm.up($event, i*12+11)},\"mouseover\":function($event){_vm.down($event, i*12+11)},\"mouseout\":function($event){_vm.up($event, i*12+11)}}},[_c('div',{staticClass:\"text-bottom\"},[_vm._v(\"B\")])])])])}))]),_vm._v(\" \"),_c('back',{attrs:{\"has-event-inputs\":\"true\",\"has-event-outputs\":\"true\"}},[_vm._v(\"\\n    back\\n  \")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0d31ec80\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/VirtualKeyboard.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"midiplayer\">\n    <front class=\"gameboy\" ref=\"midiplayer\">\n      <h1>Jingle Bells Player</h1>\n      <button @click=\"play()\">Play</button>\n      <button @click=\"stop()\">Stop</button>\n      <h2>(soon MIDI Player)</h2>\n    </front>\n    <back ref=\"back\" has-event-outputs=\"true\">\n      Back\n    </back>\n  </div>\n</template>\n\n<script>\n\nimport midiparser from 'midi-parser-js/src/midi-parser'\n\nlet mididata\n\nexport default {\n  name: 'MidiPlayer',\n  props: ['vkeyboard'],\n  data () {\n    return {\n      selectedOutput: undefined,\n      playing: false\n    }\n  },\n  methods: {\n    selectOutput (output) {\n      console.log(output)\n      this.selectedOutput = output\n    },\n    play () {\n      this.playing = true\n      this.iterateEvent(0)\n    },\n    stop () {\n      this.playing = false\n    },\n    iterateEvent (index) {\n      let event = mididata.track[1].event[index]\n\n      if (this.playing && event) {\n        if (event.deltaTime === 0) {\n          console.log('emit', event)\n          this.emitEvent(index, event)\n        } else {\n          setTimeout(() => {\n            this.emitEvent(index, event)\n          }, event.deltaTime / mididata.timeDivision * 250)\n        }\n      }\n    },\n    emitEvent (index, event) {\n      if (!this.playing) return\n      let octave\n      switch (event.type) {\n        case 9:\n          octave = (~~(event.data[0] / 12)) - 2\n          this.$emit('noteon', {\n            channel: event.channel,\n            note: {\n              name: '',\n              number: event.data[0],\n              octave\n            },\n            rawVelocity: event.data[1],\n            target: this.$refs.midiplayer,\n            timestamp: this.$store.state.audioContext.currentTime,\n            velocity: event.data[1] / 127\n          })\n          break\n        case 8:\n          octave = (~~(event.data[0] / 12)) - 2\n          this.$emit('noteoff', {\n            channel: event.channel,\n            note: {\n              name: '',\n              number: event.data[0],\n              octave\n            },\n            rawVelocity: event.data[1],\n            target: this.$refs.midiplayer,\n            timestamp: this.$store.state.audioContext.currentTime,\n            velocity: event.data[1] / 127\n          })\n          break\n      }\n      this.iterateEvent(index + 1)\n    }\n  },\n  mounted () {\n    this.$watch('outputs', outs => { this.selectedOutput = outs[0] })\n    fetch('static/jingle_bells.mid')\n      .then(res => res.arrayBuffer())\n      .then(buf => midiparser.parse(new Uint8Array(buf)))\n      .then(midi => {\n        mididata = midi\n        console.log('ready midi')\n      })\n\n    this.$on('noteon', ev => {\n      if (this.selectedOutput) {\n        this.selectedOutput.device.$emit('noteon', ev)\n      }\n    })\n\n    this.$on('noteoff', ev => {\n      if (this.selectedOutput) {\n        this.selectedOutput.device.$emit('noteoff', ev)\n      }\n    })\n  }\n}\n</script>\n\n<style scoped>\n.midiplayer {\n  width: 25%;\n  height: 280px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MidiPlayer.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"midiplayer\"},[_c('front',{ref:\"midiplayer\",staticClass:\"gameboy\"},[_c('h1',[_vm._v(\"Jingle Bells Player\")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){_vm.play()}}},[_vm._v(\"Play\")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){_vm.stop()}}},[_vm._v(\"Stop\")]),_vm._v(\" \"),_c('h2',[_vm._v(\"(soon MIDI Player)\")])]),_vm._v(\" \"),_c('back',{ref:\"back\",attrs:{\"has-event-outputs\":\"true\"}},[_vm._v(\"\\n    Back\\n  \")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cb1ab22e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MidiPlayer.vue\n// module id = null\n// module chunks = ","<template>\n  <svg v-if=\"$store.state.backview\">\n    <circle cx=\"300\" cy=\"300\" r=\"20\" />\n  </svg>\n</template>\n\n<script>\nexport default {\n  name: 'Cables'\n}\n</script>\n\n<style scoped>\nsvg {\n  position: absolute;\n  width: 960px;\n  height: 960px;\n  pointer-events: none;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Cables.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.$store.state.backview)?_c('svg',[_c('circle',{attrs:{\"cx\":\"300\",\"cy\":\"300\",\"r\":\"20\"}})]):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f9a00c88\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Cables.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"rack row\">\n    <div class=\"overlay\">\n      <cables></cables>\n    </div>\n    <equalizer ref=\"equalizer\" :output=\"$store.state.audioContext.destination\"></equalizer>\n    <virtual-keyboard ref=\"vkeyboard\" style=\"flex-grow: 1\" class=\"rack-item\" :outputs=\"outputs.slice(1)\"></virtual-keyboard>\n    <midi-input ref=\"midiinput\" :outputs=\"outputs\"></midi-input>\n    <midi-player ref=\"midiplayer\" :outputs=\"outputs\" :vkeyboard=\"{name: 'vkey', device: $refs.vkeyboard}\"></midi-player>\n    <sound-player ref=\"soundplayer\" :output=\"$store.state.mixer[0]\"></sound-player>\n    <k-synth ref=\"ksynth\" :output=\"$store.state.mixer[0]\"></k-synth>\n  </div>\n</template>\n\n<script>\nimport MidiInput from './MidiInput'\nimport SoundPlayer from './SoundPlayer'\nimport Equalizer from './Equalizer'\nimport KSynth from './KSynth'\nimport VirtualKeyboard from './VirtualKeyboard'\nimport MidiPlayer from './MidiPlayer'\nimport Cables from './Cables'\n\nexport default {\n  name: 'Main',\n  data () {\n    return {\n      output: undefined,\n      outputs: []\n    }\n  },\n  mounted () {\n    this.output = this.$refs.soundplayer\n    this.outputs.push(\n      {\n        name: 'VirtualKeyboard',\n        device: this.$refs.vkeyboard\n      },\n      {\n        name: 'SoundPlayer',\n        device: this.$refs.soundplayer\n      },\n      {\n        name: 'KSynth',\n        device: this.$refs.ksynth\n      }\n    )\n\n    window.addEventListener('keydown', ev => {\n      if (ev.code === 'Tab') {\n        this.$store.state.backview = !this.$store.state.backview\n        ev.preventDefault()\n      }\n    })\n\n    console.log('Initial cables')\n    this.$refs.soundplayer.$refs.back.connectAudio(this.$refs.equalizer, this.$refs.soundplayer)\n    this.$refs.ksynth.$refs.back.connectAudio(this.$refs.equalizer, this.$refs.ksynth)\n\n    this.$refs.midiinput.$refs.back.connectEvent(this.$refs.ksynth, this.$refs.vkeyboard)\n    this.$refs.midiinput.$refs.back.connectEvent(this.$refs.soundplayer, this.$refs.vkeyboard)\n\n    this.$refs.midiplayer.$refs.back.connectEvent(this.$refs.vkeyboard, this.$refs.midiplayer)\n    this.$refs.midiplayer.$refs.back.connectEvent(this.$refs.vkeyboard, this.$refs.midiinput)\n  },\n  components: {\n    MidiInput,\n    SoundPlayer,\n    Equalizer,\n    KSynth,\n    VirtualKeyboard,\n    MidiPlayer,\n    Cables\n  }\n}\n</script>\n\n<style scoped>\n.overlay {\n  position: relative;\n}\n</style>\n\n<style>\n.connections {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n\n  margin: 0 !important;\n  padding: 0 !important;\n\n  background-color: rgba(255, 255, 255, 0.3);\n}\n\n.row {\n  display: flex;\n  flex-wrap: wrap;\n  align-items: strech;\n}\n\n.col {\n  display: inline-flex;\n  align-items: center;\n  flex-direction: column;\n}\n\n.rack {\n  width: 960px;\n}\n\n.rack > div {\n  display: flex;\n}\n\n.rack > div > div {\n  flex-grow: 1;\n}\n\n.back {\n  background-color: lightgray;\n  display: flex;\n  flex-flow: column;\n}\n\n.gameboy {\n  border: 20px solid pink;\n  border-width: 28px 10px 10px 10px;\n  border-image-source: url(\"../assets/img/gb-background.png\");\n  border-image-slice: 28 164 86 86 fill;\n  border-image-width: auto;\n  border-image-outset: 0;\n  border-image-repeat: stretch;\n}\n\n.display {\n  width: 100%;\n  box-sizing: border-box;\n  color: #0f380f;\n  border: 20px solid pink;\n  border-width: 23px 42px 22px 43px;\n  border-image-source: url(\"../assets/img/gb-display.png\");\n  border-image-slice: 41 156 39 60 fill;\n  border-image-width: auto;\n  border-image-outset: 0;\n  border-image-repeat: stretch;\n}\n\n.display li {\n  cursor: pointer;\n}\n.display li.active {\n  color: #7b8c5a;\n  background-color: #0f380f;\n}\n\n.minidisplay {\n  background-color: #7b8c5a;\n  color: #0f380f;\n  padding: 0.5em;\n  display: inline-block;\n  border: 3px inset grey;\n  border-radius: 0.3em;\n  margin: 0.3em;\n}\n\nh1,\nh2,\nh3 {\n  margin-bottom: 0.5em;\n}\n\nh1 {\n  font-size: larger;\n  margin-bottom: 0.5em;\n}\n\nh2 {\n  font-size: large;\n}\n\np {\n  line-height: 1.5em;\n  margin-bottom: 1em;\n}\n\nhtml,\nbody {\n  height: 100%;\n  font-family: \"Consolas\", cursive;\n  font-size: 13px;\n  color: #3a2292;\n  background-image: linear-gradient(to bottom, #121, #010);\n  background-color: #010;\n  background-repeat: no-repeat;\n\n  user-select: none;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Main.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"rack row\"},[_c('div',{staticClass:\"overlay\"},[_c('cables')],1),_vm._v(\" \"),_c('equalizer',{ref:\"equalizer\",attrs:{\"output\":_vm.$store.state.audioContext.destination}}),_vm._v(\" \"),_c('virtual-keyboard',{ref:\"vkeyboard\",staticClass:\"rack-item\",staticStyle:{\"flex-grow\":\"1\"},attrs:{\"outputs\":_vm.outputs.slice(1)}}),_vm._v(\" \"),_c('midi-input',{ref:\"midiinput\",attrs:{\"outputs\":_vm.outputs}}),_vm._v(\" \"),_c('midi-player',{ref:\"midiplayer\",attrs:{\"outputs\":_vm.outputs,\"vkeyboard\":{name: 'vkey', device: _vm.$refs.vkeyboard}}}),_vm._v(\" \"),_c('sound-player',{ref:\"soundplayer\",attrs:{\"output\":_vm.$store.state.mixer[0]}}),_vm._v(\" \"),_c('k-synth',{ref:\"ksynth\",attrs:{\"output\":_vm.$store.state.mixer[0]}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-037d967c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Main.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Main from '@/components/Main'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'Main',\n      component: Main\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nlet audioContext = new AudioContext()\nlet mixer = []\n\nfor (var i = 0; i < 16; i++) {\n  mixer.push(audioContext.createGain())\n}\n\nlet state = {\n  audioContext,\n  mixer,\n  backview: false\n}\n\nexport default new Vuex.Store({\n  state\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport Vuex from 'vuex'\nimport App from './App'\nimport router from './router'\nimport store from './store'\nimport Front from './components/Front'\nimport Back from './components/Back'\n\nVue.config.productionTip = false\nVue.component('front', Front)\nVue.component('back', Back)\n\nVue.use(Vuex)\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}